(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"7Rsm":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("Czhu"),a=n("ERkP"),o=n("b2e3"),c=n.n(o),i=n("J8OT"),l=n("NyF8"),s=n("K6ZL"),d=n("T49u"),b=n("xiH9"),u=n("Z4DO"),p=n("ibUV"),g=n("egvM");function m({listKey:e,onClose:t,onCreate:n}){const{createViewFieldModes:o}=Object(p.b)(),m=Object(p.c)(e),f=Object(s.b)(),[O,{loading:j,error:h}]=Object(b.a)(u.a`mutation($data: ${m.gqlNames.createInputName}!) {
      item: ${m.gqlNames.createMutationName}(data: $data) {
        id
        label: ${m.labelField}
    }
  }`),[v,k]=Object(a.useState)((()=>{const e={};return Object.keys(m.fields).forEach((t=>{e[t]=m.fields[t].controller.defaultValue})),e})),w=Object(a.useMemo)((()=>{const e=new Set;return Object.keys(v).forEach((t=>{const n=v[t],r=m.fields[t].controller.validate;if(r){!1===r(n)&&e.add(t)}})),e}),[m,v]),[y,x]=Object(a.useState)(!1),E=Object.keys(m.fields).filter((t=>"loaded"===o.state&&"hidden"!==o.lists[e][t])).map(((e,t)=>{const n=m.fields[e];return Object(i.n)(n.views.Field,{key:e,field:n.controller,value:v[e],forceValidation:y&&w.has(e),onChange:t=>{k(Object(r.a)(Object(r.a)({},v),{},{[e]:t}))},autoFocus:0===t})}));return Object(i.n)(l.b,{title:`Create ${m.singular}`,width:"wide",actions:{confirm:{label:`Create ${m.singular}`,loading:j,action:()=>{const e=0!==w.size;if(x(e),e)return;const t={};Object.keys(m.fields).forEach((e=>{const{controller:n}=m.fields[e],r=n.serialize(v[e]);c()(r,n.serialize(n.defaultValue))||Object.assign(t,r)})),O({variables:{data:t}}).then((({data:e})=>{const t=e.item.label||e.item.id;n({id:e.item.id,label:t}),f.addToast({title:t,message:"Created Successfully",tone:"positive"})})).catch((()=>{}))}},cancel:{label:"Cancel",action:t}}},"error"===o.state&&Object(i.n)(g.a,{networkError:o.error instanceof Error?o.error:void 0,errors:o.error instanceof Error?void 0:o.error}),"loading"===o.state&&Object(i.n)(d.a,{label:"Loading create form"}),h&&Object(i.n)(g.a,{networkError:null===h||void 0===h?void 0:h.networkError,errors:null===h||void 0===h?void 0:h.graphQLErrors}),Object(i.n)(i.j,{gap:"xlarge",paddingY:"xlarge"},E,0===E.length&&"There are no fields that you can read or edit"))}},ONmz:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ERkP"),a=n("okno");n("97Jx"),n("m3Bd"),n("J8OT");const o=Object(a.a)(r.createElement("polyline",{points:"9 18 15 12 9 6"}),"ChevronRightIcon")},egvM:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return S}));var r=n("cxan"),a=n("J8OT"),o=n("ERkP"),c=n.n(o),i=n("HbGN"),l=n("Bkb1"),s=n("rkyN"),d=n("kSZk"),b=n("r1vM"),u=n("ONmz"),p=n("ibUV"),g=n("iBAD"),m=n("zcq3"),f=n("jvFD"),O=n.n(f),j=n("4/oc");const h=()=>{var e;const{spacing:t}=Object(a.t)(),{adminConfig:n}=Object(p.b)();return null!==(e=n.components)&&void 0!==e&&e.Logo?Object(a.n)(n.components.Logo,null):Object(a.n)(a.f,null,Object(a.n)(O.a,{href:"/",passHref:!0},Object(a.n)("a",{css:{backgroundImage:"linear-gradient(to right, #0ea5e9, #6366f1)",backgroundClip:"text",lineHeight:"1.75rem",color:"transparent",verticalAlign:"middle",transition:"color 0.3s ease",textDecoration:"none"}},Object(a.n)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 220 220",css:{display:"inline-block",width:"2rem",height:"2rem",margin:`0  ${t.medium}px ${t.xsmall}px 0`,verticalAlign:"middle"}},Object(a.n)("defs",null,Object(a.n)("linearGradient",{id:"logo-a",x1:"0%",x2:"50%",y1:"0%",y2:"71.9%"},Object(a.n)("stop",{offset:"0%",stopColor:"#5AE8FA"}),Object(a.n)("stop",{offset:"100%",stopColor:"#2684FF"}))),Object(a.n)("path",{fill:"url(#logo-a)",fillRule:"evenodd",d:"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z",transform:"translate(-238.9 -47)"})),"Keystone Next")))},v=({href:e,children:t})=>{const{colors:n,palette:r,spacing:o,radii:c,typography:i}=Object(a.t)(),s=Object(l.useRouter)(),d=s.pathname===e||s.pathname.split("/")[1]===e.split("/")[1];return Object(a.n)(g.a,{"aria-current":!!d&&"location",href:e,css:{background:"transparent",borderBottomRightRadius:c.xsmall,borderTopRightRadius:c.xsmall,color:r.neutral700,display:"block",fontWeight:i.fontWeight.medium,marginBottom:o.xsmall,marginRight:o.xlarge,padding:`${o.small}px ${o.xlarge}px`,position:"relative",textDecoration:"none",":hover":{background:n.backgroundHover,color:n.linkHoverColor},"&[aria-current=location]":{background:r.neutral200,color:r.neutral900}}},t)},k=({item:e})=>{const{spacing:t,typography:n}=Object(a.t)();return Object(a.n)("div",{css:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",margin:t.xlarge,marginBottom:0}},Object(a.n)("div",{css:{fontSize:n.fontSize.small}},"Signed in as ",Object(a.n)("strong",null,e.label)),Object(a.n)(d.a,{placement:"bottom",triggerRenderer:({triggerProps:e})=>Object(a.n)(s.a,Object(r.a)({size:"small",style:{padding:0,width:36},"aria-label":"Links and signout"},e),Object(a.n)(b.a,null))},Object(a.n)(a.j,{gap:"medium",padding:"large",dividers:"between"},Object(a.n)(w,{target:"_blank",href:"/api/graphql"},"API Explorer"),Object(a.n)(w,{target:"_blank",href:"https://github.com/keystonejs/keystone"},"GitHub Repository"),Object(a.n)(w,{target:"_blank",href:"https://next.keystonejs.com"},"Keystone Documentation"),Object(a.n)(m.a,null))))},w=e=>{let{children:t}=e,n=Object(i.a)(e,["children"]);const{typography:o}=Object(a.t)();return Object(a.n)("a",Object(r.a)({css:{alignItems:"center",display:"flex",fontSize:o.fontSize.small,textDecoration:"none"}},n),t,Object(a.n)(u.a,{size:"small"}))},y=()=>{const{adminMeta:{lists:e},authenticatedItem:t,visibleLists:n}=Object(p.b)(),{spacing:r}=Object(a.t)();return Object(a.n)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center"}},"authenticated"===t.state&&Object(a.n)(k,{item:t}),Object(a.n)("nav",{css:{marginTop:r.xlarge}},Object(a.n)(v,{href:"/"},"Dashboard"),"loading"===n.state?null:"error"===n.state?Object(a.n)("span",{css:{color:"red"}},n.error instanceof Error?n.error.message:n.error[0].message):Object.keys(e).map((t=>{if(!n.lists.has(t))return null;const r=e[t];return Object(a.n)(v,{key:t,href:`/${r.path}`},e[t].label)}))))},x=80,E=e=>Object(a.n)(o.Fragment,null,Object(a.n)("style",null,"body { overflow: hidden; }"),Object(a.n)("div",Object(r.a)({css:{display:"grid",gridTemplateColumns:"minmax(300px, 1fr) 4fr",gridTemplateRows:`${x}px auto`,height:"100vh"}},e))),C=e=>Object(a.n)("aside",Object(r.a)({css:{minWidth:0,overflowY:"auto",WebkitOverflowScrolling:"touch"}},e)),R=e=>{const{colors:t,spacing:n}=Object(a.t)();return Object(a.n)("main",Object(r.a)({css:{backgroundColor:t.background,boxSizing:"border-box",minWidth:0,paddingLeft:n.xlarge,paddingRight:n.xlarge,overflowY:"auto",WebkitOverflowScrolling:"touch"}},e))},S=({children:e,header:t})=>{const{colors:n,spacing:r}=Object(a.t)();return Object(a.n)(E,null,Object(a.n)("div",{css:{alignItems:"center",borderBottom:`1px solid ${n.border}`,display:"flex",justifyContent:"space-between",paddingLeft:r.xlarge,paddingRight:r.xlarge}},Object(a.n)(h,null)),Object(a.n)("header",{css:{alignItems:"center",backgroundColor:n.background,borderBottom:`1px solid ${n.border}`,display:"flex",justifyContent:"space-between",minWidth:0,paddingLeft:r.xlarge,paddingRight:r.xlarge}},t),Object(a.n)(C,null,Object(a.n)(y,null)),Object(a.n)(R,null,e))};function z({errors:e,networkError:t}){return t?c.a.createElement(j.a,{tone:"negative"},t.message):null!==e&&void 0!==e&&e.length?c.a.createElement(a.j,{gap:"small"},e.map((e=>{var t,n;const r=e;return"ValidationFailureError"===e.name&&null!==(t=r.data)&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length?r.data.messages.map((e=>c.a.createElement(j.a,{tone:"negative"},e))):c.a.createElement(j.a,{tone:"negative"},e.message)}))):null}},kSZk:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n("cxan"),a=n("HbGN"),o=n("Czhu"),c=n("ERkP"),i=n("/BT6"),l=n("nxFc"),s=n("J8OT");const d=(e={},t={handleClose:"both"})=>{const[n,r]=Object(c.useState)(!1);return Object(o.a)({isOpen:n,setOpen:r},(({isOpen:e,onClose:t},n={},r={handleClose:"both"})=>{const[a,i]=Object(c.useState)(null),[s,d]=Object(c.useState)(),[b,u]=Object(c.useState)(),{styles:m,attributes:f,update:O}=Object(l.a)(a,s,Object(o.a)(Object(o.a)({},n),{},{modifiers:[...n.modifiers||[],{name:"arrow",options:{element:b}},{name:"eventListeners",options:{scroll:e,resize:e}}]}));return Object(c.useEffect)((()=>{O&&e&&O()}),[e,O]),p({handler:()=>t(),elements:[a,s],listenWhen:["both","mouse"].includes(r.handleClose)&&e}),g({targetKey:"Escape",downHandler:Object(c.useCallback)((e=>{e.preventDefault(),t()}),[t]),listenWhen:["both","keyboard"].includes(r.handleClose)&&e}),{trigger:Object(c.useMemo)((()=>({ref:i,props:{"aria-haspopup":!0,"aria-expanded":e}})),[e]),dialog:Object(c.useMemo)((()=>({ref:d,props:Object(o.a)({style:m.popper},f.popper)})),[m.popper,f.popper]),arrow:Object(c.useMemo)((()=>({ref:u,props:{style:m.arrow}})),[m.arrow])}})({isOpen:n,onClose:Object(c.useCallback)((()=>r(!1)),[])},e,t))},b=e=>{let{placement:t="bottom",triggerRenderer:n}=e,i=Object(a.a)(e,["placement","triggerRenderer"]);const{isOpen:l,setOpen:b,trigger:p,dialog:g,arrow:m}=d({placement:t,modifiers:[{name:"offset",options:{offset:[0,8]}}]});return Object(s.n)(c.Fragment,null,n({isOpen:l,triggerProps:Object(o.a)(Object(o.a)({ref:p.ref},p.props),{},{onClick:()=>b(!0)})}),Object(s.n)(u,Object(r.a)({isVisible:l,arrow:m,ref:g.ref},g.props,i)))},u=Object(c.forwardRef)(((e,t)=>{let{isVisible:n,children:l,arrow:d}=e,b=Object(a.a)(e,["isVisible","children","arrow"]);const{elevation:u,radii:p,shadow:g,colors:f}=Object(s.t)(),O=Object(c.useRef)(null),j=Object(c.useRef)(null);return Object(c.useEffect)((()=>{null!==O&&void 0!==O&&O.current&&(j.current=i.a(O.current))}),[O]),Object(c.useEffect)((()=>{null!==j&&void 0!==j&&j.current&&(n?j.current.activate():j.current.deactivate())}),[n,j]),Object(s.n)(s.i,null,Object(s.n)("div",Object(r.a)({ref:t,css:Object(o.a)({background:f.background,borderRadius:p.medium,boxShadow:g.s300,opacity:n?1:0,pointerEvents:n?void 0:"none",zIndex:u.e500},m())},b),Object(s.n)("div",{ref:O},n&&Object(s.n)(c.Fragment,null,Object(s.n)("div",Object(r.a)({"data-popper-arrow":!0,ref:d.ref,className:"tooltipArrow"},d.props)),l))))})),p=({handler:e,elements:t,listenWhen:n})=>{Object(c.useEffect)((()=>{if(n){let n=n=>{t.some((e=>e&&e.contains(n.target)))||e(n)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}}),[e,t,n])},g=({targetKey:e,targetElement:t,downHandler:n,upHandler:r,listenWhen:a})=>{const[o,i]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{let o=t||document.body,c=t=>{t.key===e&&(i(!0),"function"===typeof n&&n(t))},l=t=>{t.key===e&&(i(!1),"function"===typeof r&&r(t))};if(a)return o.addEventListener("keydown",c),o.addEventListener("keyup",l),()=>{o.removeEventListener("keydown",c),o.removeEventListener("keyup",l)}}),[a,e,n,r,t]),o},m=()=>{const e=Object(s.t)();return{"& [data-popper-arrow]":{position:"absolute",overflow:"hidden",pointerEvents:"none",height:32,width:32,"&::after":{content:'""',position:"absolute",background:e.colors.background,width:16,height:16,transform:"translateX(-50%) translateY(-50%) rotate(45deg)",boxShadow:e.shadow.s200}},"&[data-popper-placement^='left'] > [data-popper-arrow]":{left:"100%","&::after":{top:"50%",left:"0"}},"&[data-popper-placement^='right'] > [data-popper-arrow]":{right:"100%","&::after":{top:"50%",left:"100%"}},"&[data-popper-placement^='top'] > [data-popper-arrow]":{top:"100%","&::after":{top:0,bottom:"-50%",left:"50%"}},"&[data-popper-placement^='bottom'] > [data-popper-arrow]":{bottom:"100%",right:"unset","&::after":{bottom:"-50%",left:"50%"}}}}},r1vM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ERkP"),a=n("okno");n("97Jx"),n("m3Bd"),n("J8OT");const o=Object(a.a)(r.createElement(r.Fragment,null,r.createElement("circle",{cx:12,cy:12,r:1}),r.createElement("circle",{cx:19,cy:12,r:1}),r.createElement("circle",{cx:5,cy:12,r:1})),"MoreHorizontalIcon")},zcq3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("J8OT"),a=n("rkyN"),o=n("ERkP"),c=n("Z4DO"),i=n("xiH9");const l=c.a`
  mutation EndSession {
    endSession
  }
`,s=({children:e})=>{const[t,{loading:n,data:c}]=Object(i.a)(l);return Object(o.useEffect)((()=>{null!==c&&void 0!==c&&c.endSession&&window.location.reload()}),[c]),Object(r.n)(a.a,{size:"small",isLoading:n,onClick:()=>t()},e||"Sign out")}}}]);