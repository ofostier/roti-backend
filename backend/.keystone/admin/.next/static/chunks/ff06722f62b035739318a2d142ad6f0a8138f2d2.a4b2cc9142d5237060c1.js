(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"/U4Q":function(e,t){function n(){return new DOMException("The request is not allowed","NotAllowedError")}e.exports=async function(e){try{await async function(e){if(!navigator.clipboard)throw n();return navigator.clipboard.writeText(e)}(e)}catch(t){try{await async function(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const o=window.getSelection(),a=window.document.createRange();o.removeAllRanges(),a.selectNode(t),o.addRange(a);let r=!1;try{r=window.document.execCommand("copy")}finally{o.removeAllRanges(),window.document.body.removeChild(t)}if(!r)throw n()}(e)}catch(o){throw o||t||n()}}}},"25Qf":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("ERkP"),a=n("okno");n("97Jx"),n("m3Bd"),n("J8OT");const r=Object(a.a)(o.createElement(o.Fragment,null,o.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),o.createElement("rect",{x:8,y:2,width:8,height:4,rx:1,ry:1})),"ClipboardIcon")},"2y2E":function(e,t,n){"use strict";function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}));var a=function(e,t){"object"===o(e)&&null!==e&&(e.current=t),"function"===typeof e&&e(t)},r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){return a(t,e)}))}}},ONmz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("ERkP"),a=n("okno");n("97Jx"),n("m3Bd"),n("J8OT");const r=Object(a.a)(o.createElement("polyline",{points:"9 18 15 12 9 6"}),"ChevronRightIcon")},egvM:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return R}));var o=n("cxan"),a=n("J8OT"),r=n("ERkP"),i=n.n(r),l=n("HbGN"),c=n("Bkb1"),s=n("rkyN"),d=n("kSZk"),u=n("r1vM"),b=n("ONmz"),p=n("ibUV"),m=n("iBAD"),g=n("zcq3"),f=n("jvFD"),O=n.n(f),j=n("4/oc");const h=()=>{var e;const{spacing:t}=Object(a.t)(),{adminConfig:n}=Object(p.b)();return null!==(e=n.components)&&void 0!==e&&e.Logo?Object(a.n)(n.components.Logo,null):Object(a.n)(a.f,null,Object(a.n)(O.a,{href:"/",passHref:!0},Object(a.n)("a",{css:{backgroundImage:"linear-gradient(to right, #0ea5e9, #6366f1)",backgroundClip:"text",lineHeight:"1.75rem",color:"transparent",verticalAlign:"middle",transition:"color 0.3s ease",textDecoration:"none"}},Object(a.n)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 220 220",css:{display:"inline-block",width:"2rem",height:"2rem",margin:`0  ${t.medium}px ${t.xsmall}px 0`,verticalAlign:"middle"}},Object(a.n)("defs",null,Object(a.n)("linearGradient",{id:"logo-a",x1:"0%",x2:"50%",y1:"0%",y2:"71.9%"},Object(a.n)("stop",{offset:"0%",stopColor:"#5AE8FA"}),Object(a.n)("stop",{offset:"100%",stopColor:"#2684FF"}))),Object(a.n)("path",{fill:"url(#logo-a)",fillRule:"evenodd",d:"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z",transform:"translate(-238.9 -47)"})),"Keystone Next")))},v=({href:e,children:t})=>{const{colors:n,palette:o,spacing:r,radii:i,typography:l}=Object(a.t)(),s=Object(c.useRouter)(),d=s.pathname===e||s.pathname.split("/")[1]===e.split("/")[1];return Object(a.n)(m.a,{"aria-current":!!d&&"location",href:e,css:{background:"transparent",borderBottomRightRadius:i.xsmall,borderTopRightRadius:i.xsmall,color:o.neutral700,display:"block",fontWeight:l.fontWeight.medium,marginBottom:r.xsmall,marginRight:r.xlarge,padding:`${r.small}px ${r.xlarge}px`,position:"relative",textDecoration:"none",":hover":{background:n.backgroundHover,color:n.linkHoverColor},"&[aria-current=location]":{background:o.neutral200,color:o.neutral900}}},t)},y=({item:e})=>{const{spacing:t,typography:n}=Object(a.t)();return Object(a.n)("div",{css:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",margin:t.xlarge,marginBottom:0}},Object(a.n)("div",{css:{fontSize:n.fontSize.small}},"Signed in as ",Object(a.n)("strong",null,e.label)),Object(a.n)(d.a,{placement:"bottom",triggerRenderer:({triggerProps:e})=>Object(a.n)(s.a,Object(o.a)({size:"small",style:{padding:0,width:36},"aria-label":"Links and signout"},e),Object(a.n)(u.a,null))},Object(a.n)(a.j,{gap:"medium",padding:"large",dividers:"between"},Object(a.n)(w,{target:"_blank",href:"/api/graphql"},"API Explorer"),Object(a.n)(w,{target:"_blank",href:"https://github.com/keystonejs/keystone"},"GitHub Repository"),Object(a.n)(w,{target:"_blank",href:"https://next.keystonejs.com"},"Keystone Documentation"),Object(a.n)(g.a,null))))},w=e=>{let{children:t}=e,n=Object(l.a)(e,["children"]);const{typography:r}=Object(a.t)();return Object(a.n)("a",Object(o.a)({css:{alignItems:"center",display:"flex",fontSize:r.fontSize.small,textDecoration:"none"}},n),t,Object(a.n)(b.a,{size:"small"}))},x=()=>{const{adminMeta:{lists:e},authenticatedItem:t,visibleLists:n}=Object(p.b)(),{spacing:o}=Object(a.t)();return Object(a.n)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center"}},"authenticated"===t.state&&Object(a.n)(y,{item:t}),Object(a.n)("nav",{css:{marginTop:o.xlarge}},Object(a.n)(v,{href:"/"},"Dashboard"),"loading"===n.state?null:"error"===n.state?Object(a.n)("span",{css:{color:"red"}},n.error instanceof Error?n.error.message:n.error[0].message):Object.keys(e).map((t=>{if(!n.lists.has(t))return null;const o=e[t];return Object(a.n)(v,{key:t,href:`/${o.path}`},e[t].label)}))))},k=80,E=e=>Object(a.n)(r.Fragment,null,Object(a.n)("style",null,"body { overflow: hidden; }"),Object(a.n)("div",Object(o.a)({css:{display:"grid",gridTemplateColumns:"minmax(300px, 1fr) 4fr",gridTemplateRows:`${k}px auto`,height:"100vh"}},e))),C=e=>Object(a.n)("aside",Object(o.a)({css:{minWidth:0,overflowY:"auto",WebkitOverflowScrolling:"touch"}},e)),S=e=>{const{colors:t,spacing:n}=Object(a.t)();return Object(a.n)("main",Object(o.a)({css:{backgroundColor:t.background,boxSizing:"border-box",minWidth:0,paddingLeft:n.xlarge,paddingRight:n.xlarge,overflowY:"auto",WebkitOverflowScrolling:"touch"}},e))},R=({children:e,header:t})=>{const{colors:n,spacing:o}=Object(a.t)();return Object(a.n)(E,null,Object(a.n)("div",{css:{alignItems:"center",borderBottom:`1px solid ${n.border}`,display:"flex",justifyContent:"space-between",paddingLeft:o.xlarge,paddingRight:o.xlarge}},Object(a.n)(h,null)),Object(a.n)("header",{css:{alignItems:"center",backgroundColor:n.background,borderBottom:`1px solid ${n.border}`,display:"flex",justifyContent:"space-between",minWidth:0,paddingLeft:o.xlarge,paddingRight:o.xlarge}},t),Object(a.n)(C,null,Object(a.n)(x,null)),Object(a.n)(S,null,e))};function M({errors:e,networkError:t}){return t?i.a.createElement(j.a,{tone:"negative"},t.message):null!==e&&void 0!==e&&e.length?i.a.createElement(a.j,{gap:"small"},e.map((e=>{var t,n;const o=e;return"ValidationFailureError"===e.name&&null!==(t=o.data)&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length?o.data.messages.map((e=>i.a.createElement(j.a,{tone:"negative"},e))):i.a.createElement(j.a,{tone:"negative"},e.message)}))):null}},kSZk:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return d}));var o=n("cxan"),a=n("HbGN"),r=n("Czhu"),i=n("ERkP"),l=n("/BT6"),c=n("nxFc"),s=n("J8OT");const d=(e={},t={handleClose:"both"})=>{const[n,o]=Object(i.useState)(!1);return Object(r.a)({isOpen:n,setOpen:o},(({isOpen:e,onClose:t},n={},o={handleClose:"both"})=>{const[a,l]=Object(i.useState)(null),[s,d]=Object(i.useState)(),[u,b]=Object(i.useState)(),{styles:g,attributes:f,update:O}=Object(c.a)(a,s,Object(r.a)(Object(r.a)({},n),{},{modifiers:[...n.modifiers||[],{name:"arrow",options:{element:u}},{name:"eventListeners",options:{scroll:e,resize:e}}]}));return Object(i.useEffect)((()=>{O&&e&&O()}),[e,O]),p({handler:()=>t(),elements:[a,s],listenWhen:["both","mouse"].includes(o.handleClose)&&e}),m({targetKey:"Escape",downHandler:Object(i.useCallback)((e=>{e.preventDefault(),t()}),[t]),listenWhen:["both","keyboard"].includes(o.handleClose)&&e}),{trigger:Object(i.useMemo)((()=>({ref:l,props:{"aria-haspopup":!0,"aria-expanded":e}})),[e]),dialog:Object(i.useMemo)((()=>({ref:d,props:Object(r.a)({style:g.popper},f.popper)})),[g.popper,f.popper]),arrow:Object(i.useMemo)((()=>({ref:b,props:{style:g.arrow}})),[g.arrow])}})({isOpen:n,onClose:Object(i.useCallback)((()=>o(!1)),[])},e,t))},u=e=>{let{placement:t="bottom",triggerRenderer:n}=e,l=Object(a.a)(e,["placement","triggerRenderer"]);const{isOpen:c,setOpen:u,trigger:p,dialog:m,arrow:g}=d({placement:t,modifiers:[{name:"offset",options:{offset:[0,8]}}]});return Object(s.n)(i.Fragment,null,n({isOpen:c,triggerProps:Object(r.a)(Object(r.a)({ref:p.ref},p.props),{},{onClick:()=>u(!0)})}),Object(s.n)(b,Object(o.a)({isVisible:c,arrow:g,ref:m.ref},m.props,l)))},b=Object(i.forwardRef)(((e,t)=>{let{isVisible:n,children:c,arrow:d}=e,u=Object(a.a)(e,["isVisible","children","arrow"]);const{elevation:b,radii:p,shadow:m,colors:f}=Object(s.t)(),O=Object(i.useRef)(null),j=Object(i.useRef)(null);return Object(i.useEffect)((()=>{null!==O&&void 0!==O&&O.current&&(j.current=l.a(O.current))}),[O]),Object(i.useEffect)((()=>{null!==j&&void 0!==j&&j.current&&(n?j.current.activate():j.current.deactivate())}),[n,j]),Object(s.n)(s.i,null,Object(s.n)("div",Object(o.a)({ref:t,css:Object(r.a)({background:f.background,borderRadius:p.medium,boxShadow:m.s300,opacity:n?1:0,pointerEvents:n?void 0:"none",zIndex:b.e500},g())},u),Object(s.n)("div",{ref:O},n&&Object(s.n)(i.Fragment,null,Object(s.n)("div",Object(o.a)({"data-popper-arrow":!0,ref:d.ref,className:"tooltipArrow"},d.props)),c))))})),p=({handler:e,elements:t,listenWhen:n})=>{Object(i.useEffect)((()=>{if(n){let n=n=>{t.some((e=>e&&e.contains(n.target)))||e(n)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}}),[e,t,n])},m=({targetKey:e,targetElement:t,downHandler:n,upHandler:o,listenWhen:a})=>{const[r,l]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{let r=t||document.body,i=t=>{t.key===e&&(l(!0),"function"===typeof n&&n(t))},c=t=>{t.key===e&&(l(!1),"function"===typeof o&&o(t))};if(a)return r.addEventListener("keydown",i),r.addEventListener("keyup",c),()=>{r.removeEventListener("keydown",i),r.removeEventListener("keyup",c)}}),[a,e,n,o,t]),r},g=()=>{const e=Object(s.t)();return{"& [data-popper-arrow]":{position:"absolute",overflow:"hidden",pointerEvents:"none",height:32,width:32,"&::after":{content:'""',position:"absolute",background:e.colors.background,width:16,height:16,transform:"translateX(-50%) translateY(-50%) rotate(45deg)",boxShadow:e.shadow.s200}},"&[data-popper-placement^='left'] > [data-popper-arrow]":{left:"100%","&::after":{top:"50%",left:"0"}},"&[data-popper-placement^='right'] > [data-popper-arrow]":{right:"100%","&::after":{top:"50%",left:"100%"}},"&[data-popper-placement^='top'] > [data-popper-arrow]":{top:"100%","&::after":{top:0,bottom:"-50%",left:"50%"}},"&[data-popper-placement^='bottom'] > [data-popper-arrow]":{bottom:"100%",right:"unset","&::after":{bottom:"-50%",left:"50%"}}}}},r1vM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("ERkP"),a=n("okno");n("97Jx"),n("m3Bd"),n("J8OT");const r=Object(a.a)(o.createElement(o.Fragment,null,o.createElement("circle",{cx:12,cy:12,r:1}),o.createElement("circle",{cx:19,cy:12,r:1}),o.createElement("circle",{cx:5,cy:12,r:1})),"MoreHorizontalIcon")},vPmZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var o=n("cxan"),a=n("/U4Q"),r=n.n(a),i=n("jvFD"),l=n.n(i),c=n("Bkb1"),s=n("ERkP"),d=n("rkyN"),u=n("J8OT"),b=n("T49u"),p=n("25Qf"),m=n("ONmz"),g=n("NyF8"),f=n("4/oc"),O=n("K6ZL"),j=n("Czhu"),h=n("HbGN"),v=n("2y2E"),y=n("kSZk");const w=({children:e,content:t,hideOnClick:n=!0,placement:a="top",weight:r="bold"})=>{const{spacing:i}=Object(u.t)(),l="bold"===r,{isOpen:c,setOpen:d,trigger:b,dialog:p,arrow:m}=Object(y.c)({placement:a,modifiers:[{name:"offset",options:{offset:[0,l?i.small:i.xsmall]}}]}),g=Object(u.r)(),f=Object(s.useCallback)((()=>d(!0)),[]),O=Object(s.useCallback)((()=>d(!1)),[]),j=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=j.current;if(n&&e)return e.addEventListener("click",O),()=>e.removeEventListener("click",O)}),[c]),Object(u.n)(s.Fragment,null,Object(s.useMemo)((()=>e({onMouseEnter:f,onMouseLeave:O,onFocus:f,onBlur:O,"aria-describedby":g,ref:Object(v.a)(b.ref,j)})),[e,f,O,g,b.ref,j]),Object(u.n)(x,Object(o.a)({id:g,isVisible:c,weight:r,ref:p.ref},p.props,{arrow:"bold"===r?m:void 0}),t))},x=Object(s.memo)(Object(s.forwardRef)(((e,t)=>{let{isVisible:n,children:a,arrow:r,weight:i}=e,l=Object(h.a)(e,["isVisible","children","arrow","weight"]);const c="bold"===i,{elevation:s,radii:d,colors:b,spacing:p,typography:m}=Object(u.t)(),g=k();return Object(u.n)(u.i,null,Object(u.n)("div",Object(o.a)({role:"tooltip","aria-hidden":!n,ref:t,css:Object(j.a)({backgroundColor:b.foregroundMuted,borderRadius:d.xsmall,color:b.background,fontSize:c?m.fontSize.small:m.fontSize.xsmall,fontWeight:m.fontWeight.medium,lineHeight:m.leading.tight,maxWidth:320,opacity:n?c?1:.9:0,padding:c?`${p.small}px ${p.medium}px`:`${p.xsmall}px ${p.small}px`,pointerEvents:n?void 0:"none",zIndex:s.e500},g)},l),a,r&&Object(u.n)("div",Object(o.a)({"data-popper-arrow":!0,ref:r.ref,className:"tooltipArrow"},r.props))))}))),k=()=>{const{colors:e}=Object(u.t)();return{".tooltipArrow":{position:"absolute",overflow:"hidden",pointerEvents:"none",height:"20px",width:"20px","&::after":{content:"close-quote",position:"absolute",width:"10px",height:"10px",backgroundColor:e.foregroundMuted,transform:"translateX(-50%) translateY(-50%) rotate(45deg)"}},"&[data-popper-placement^='left'] > .tooltipArrow":{left:"100%","&::after":{top:"50%",left:"0"}},"&[data-popper-placement^='right'] > .tooltipArrow":{right:"100%","&::after":{top:"50%",left:"100%"}},"&[data-popper-placement^='top'] > .tooltipArrow":{top:"100%","&::after":{top:0,bottom:"-50%",left:"50%"}},"&[data-popper-placement^='bottom'] > .tooltipArrow":{bottom:"100%",right:"unset","&::after":{bottom:"-50%",left:"50%"}}}};var E=n("J3Wx"),C=n("SB1o"),S=n("xiH9"),R=n("Z4DO"),M=n("GBwV"),D=n("ibUV"),z=n("egvM");n("yiKp"),n("b2e3"),n("yUr7"),n("z3d9"),n("EezE"),n("r1vM"),n("iBAD"),n("zcq3");const F=e=>{let{children:t}=e,n=Object(h.a)(e,["children"]);return Object(u.n)("div",Object(o.a)({css:{minWidth:0,maxWidth:1080}},n),t)};function $(e){const t=Object(s.useRef)(e),n=Object(s.useCallback)(((...e)=>t.current(...e)),[]);return Object(s.useEffect)((()=>{t.current=e})),n}function L({listKey:e,itemGetter:t,selectedFields:n,fieldModes:o,showDelete:a}){var r,i,l;const c=Object(D.c)(e),[d,{loading:b,error:p,data:m}]=Object(S.a)(R.a`mutation ($data: ${c.gqlNames.updateInputName}!, $id: ID!) {
      item: ${c.gqlNames.updateMutationName}(id: $id, data: $data) {
        ${n}
      }
    }`,{errorPolicy:"all"});t=null!==(r=Object(s.useMemo)((()=>{if(m)return Object(C.d)(m,null===p||void 0===p?void 0:p.graphQLErrors).get("item")}),[m,p]))&&void 0!==r?r:t;const[g,f]=Object(s.useState)((()=>({value:Object(C.b)(c.fields,t),item:t.data})));if(!b&&g.item!==t.data&&(t.errors||[]).every((e=>{var t;return 1!==(null===(t=e.path)||void 0===t?void 0:t.length)}))){const e=Object(C.b)(c.fields,t);f({value:e,item:t.data})}const{changedFields:j,dataForUpdate:h}=Object(C.e)(c.fields,t,g.value),v=Object(C.f)(c.fields,g.value),[y,w]=Object(s.useState)(!1),x=Object(O.b)(),k=$((()=>{const e=0!==v.size;w(e),e||d({variables:{data:h,id:t.get("id").data}}).then((({errors:e})=>{const t=null===e||void 0===e?void 0:e.find((e=>{var t;return 1===(null===(t=e.path)||void 0===t?void 0:t.length)}));t?x.addToast({title:"Failed to update item",tone:"negative",message:t.message}):x.addToast({tone:"positive",title:"Saved successfully"})})).catch((e=>{x.addToast({title:"Failed to update item",tone:"negative",message:e.message})}))}));return Object(u.n)(u.a,{marginTop:"xlarge"},Object(u.n)(z.a,{networkError:null===p||void 0===p?void 0:p.networkError,errors:null===p||void 0===p?void 0:p.graphQLErrors.filter((e=>{var t;return 1===(null===(t=e.path)||void 0===t?void 0:t.length)}))}),Object(u.n)(C.a,{fieldModes:o,fields:c.fields,forceValidation:y,invalidFields:v,onChange:Object(s.useCallback)((e=>{f((t=>({item:t.item,value:e(t.value)})))}),[f]),value:g.value}),Object(u.n)(P,{onSave:k,hasChangedFields:!!j.size,onReset:$((()=>{f({item:t.data,value:Object(C.b)(c.fields,t)})})),loading:b,deleteButton:Object(s.useMemo)((()=>{var e,n,o,r;return a?Object(u.n)(I,{list:c,itemLabel:null!==(e=null===(n=t.data)||void 0===n?void 0:n[c.labelField])&&void 0!==e?e:null===(o=t.data)||void 0===o?void 0:o.id,itemId:null===(r=t.data)||void 0===r?void 0:r.id}):void 0}),[a,c,null===(i=t.data)||void 0===i?void 0:i[c.labelField],null===(l=t.data)||void 0===l?void 0:l.id])}))}function I({itemLabel:e,itemId:t,list:n}){const o=Object(O.b)(),[a,{loading:r}]=Object(S.a)(R.a`mutation ($id: ID!) {
      ${n.gqlNames.deleteMutationName}(id: $id) {
        id
      }
    }`,{variables:{id:t}}),[i,l]=Object(s.useState)(!1),b=Object(c.useRouter)();return Object(u.n)(s.Fragment,null,Object(u.n)(d.a,{tone:"negative",onClick:()=>{l(!0)}},"Delete"),Object(u.n)(g.a,{title:"Delete Confirmation",isOpen:i,tone:"negative",actions:{confirm:{label:"Delete",action:async()=>{await a().catch((e=>{o.addToast({title:"Failed to delete item",message:e.message,tone:"negative"})})),b.push(`/${n.path}`),o.addToast({title:e,message:"Deleted successfully",tone:"positive"})},loading:r},cancel:{label:"Cancel",action:()=>{l(!1)}}}},"Are you sure you want to delete ",Object(u.n)("strong",null,e),"?"))}const N=e=>()=>Object(u.n)(T,e),T=({listKey:e})=>{var t,n,a,i;const g=Object(c.useRouter)(),{id:O}=g.query,j=Object(D.c)(e),{palette:h,spacing:v,typography:y}=Object(u.t)(),{query:x,selectedFields:k}=Object(s.useMemo)((()=>{let e=Object.keys(j.fields).map((e=>j.fields[e].controller.graphqlSelection)).join("\n");return{selectedFields:e,query:R.a`
        query ItemPage($id: ID!, $listKey: String!) {
          item: ${j.gqlNames.itemQueryName}(where: {id: $id}) {
            ${e}
          }
          keystone {
            adminMeta {
              list(key: $listKey) {
                hideCreate
                hideDelete
                fields {
                  path
                  itemView(id: $id) {
                    fieldMode
                  }
                }
              }
            }
          }
        }
      `}}),[j]);let{data:S,error:$,loading:I}=Object(M.a)(x,{variables:{id:O,listKey:e},errorPolicy:"all",skip:void 0===O});I||(I=void 0===O);const N=Object(C.d)(S,null===$||void 0===$?void 0:$.graphQLErrors);let T=Object(s.useMemo)((()=>{var e,t,n,o,a;let r={};return null===(e=N.data)||void 0===e||null===(t=e.keystone)||void 0===t||null===(n=t.adminMeta)||void 0===n||null===(o=n.list)||void 0===o||null===(a=o.fields)||void 0===a||a.forEach((e=>{var t;null!==e&&null!==e.path&&null!=(null===e||void 0===e||null===(t=e.itemView)||void 0===t?void 0:t.fieldMode)&&(r[e.path]=e.itemView.fieldMode)})),r}),[null===(t=N.data)||void 0===t||null===(n=t.keystone)||void 0===n||null===(a=n.adminMeta)||void 0===a||null===(i=a.list)||void 0===i?void 0:i.fields]);const P=N.get("keystone").errors;return Object(u.n)(z.c,{header:Object(u.n)(F,{css:{alignItems:"center",display:"flex",flex:1,justifyContent:"space-between"}},Object(u.n)("div",{css:{alignItems:"center",display:"flex",flex:1,minWidth:0}},Object(u.n)(u.g,{type:"h3"},Object(u.n)(l.a,{href:`/${j.path}`,passHref:!0},Object(u.n)("a",{css:{textDecoration:"none"}},j.label))),Object(u.n)("div",{css:{color:h.neutral500,marginLeft:v.xsmall,marginRight:v.xsmall}},Object(u.n)(m.a,null)),Object(u.n)(u.g,{as:"h1",type:"h3",css:{minWidth:0,maxWidth:"100%",overflow:"hidden",flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap"}},I?"Loading...":S&&S.item&&(S.item[j.labelField]||S.item.id)||O)),!1)},I?Object(u.n)(u.b,{css:{height:`calc(100vh - ${z.b}px)`}},Object(u.n)(b.a,{label:"Loading item data",size:"large",tone:"passive"})):P?Object(u.n)(u.a,{marginY:"xlarge"},Object(u.n)(f.a,{tone:"negative"},P[0].message)):Object(u.n)(s.Fragment,null,Object(u.n)(B,null,Object(u.n)(L,{fieldModes:T,selectedFields:k,showDelete:!S.keystone.adminMeta.list.hideDelete,listKey:e,itemGetter:N.get("item")}),Object(u.n)(H,null,Object(u.n)(E.e,null,"Item ID"),Object(u.n)("div",{css:{display:"flex",alignItems:"center"}},Object(u.n)(E.j,{css:{marginRight:v.medium,fontFamily:y.fontFamily.monospace,fontSize:y.fontSize.small},readOnly:!0,value:S.item.id}),Object(u.n)(w,{content:"Copy ID"},(e=>Object(u.n)(d.a,Object(o.a)({},e,{"aria-label":"Copy ID",onClick:()=>{r()(S.item.id)}}),Object(u.n)(p.a,{size:"small"})))))))))},P=Object(s.memo)((function({hasChangedFields:e,loading:t,onSave:n,onReset:o,deleteButton:a}){const{colors:r,spacing:i}=Object(u.t)();return Object(u.n)("div",{css:{background:r.background,borderTop:`1px solid ${r.border}`,bottom:0,display:"flex",justifyContent:"space-between",marginTop:i.xlarge,paddingBottom:i.xlarge,paddingTop:i.xlarge,position:"sticky",zIndex:10}},Object(u.n)(u.j,{align:"center",across:!0,gap:"small"},Object(u.n)(d.a,{isDisabled:!e,isLoading:t,weight:"bold",tone:"active",onClick:n},"Save changes"),e?Object(u.n)(d.a,{weight:"none",onClick:o},"Reset changes"):Object(u.n)(u.k,{weight:"medium",paddingX:"large",color:"neutral600"},"No changes")),a)})),B=e=>{const{spacing:t}=Object(u.t)();return Object(u.n)(F,{css:{position:"relative",height:"100%"}},Object(u.n)("div",Object(o.a)({css:{alignItems:"start",display:"grid",gap:t.xlarge,gridTemplateColumns:"2fr 1fr"}},e)))},H=e=>{const{spacing:t}=Object(u.t)();return Object(u.n)("div",Object(o.a)({css:{marginTop:t.xlarge,marginBottom:t.xxlarge,position:"sticky",top:t.xlarge}},e))}},yiKp:function(e,t,n){var o=n("KEM+");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},zcq3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("J8OT"),a=n("rkyN"),r=n("ERkP"),i=n("Z4DO"),l=n("xiH9");const c=i.a`
  mutation EndSession {
    endSession
  }
`,s=({children:e})=>{const[t,{loading:n,data:i}]=Object(l.a)(c);return Object(r.useEffect)((()=>{null!==i&&void 0!==i&&i.endSession&&window.location.reload()}),[i]),Object(o.n)(a.a,{size:"small",isLoading:n,onClick:()=>t()},e||"Sign out")}}}]);