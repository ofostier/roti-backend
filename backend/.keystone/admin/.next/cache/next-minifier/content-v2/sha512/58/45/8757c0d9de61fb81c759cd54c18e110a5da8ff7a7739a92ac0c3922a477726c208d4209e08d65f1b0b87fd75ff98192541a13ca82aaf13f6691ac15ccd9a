{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{\"7Rsm\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));var r=n(\"Czhu\"),a=n(\"ERkP\"),o=n(\"b2e3\"),c=n.n(o),i=n(\"J8OT\"),l=n(\"NyF8\"),s=n(\"K6ZL\"),d=n(\"T49u\"),b=n(\"xiH9\"),u=n(\"Z4DO\"),p=n(\"ibUV\"),g=n(\"egvM\");function m({listKey:e,onClose:t,onCreate:n}){const{createViewFieldModes:o}=Object(p.b)(),m=Object(p.c)(e),f=Object(s.b)(),[O,{loading:j,error:h}]=Object(b.a)(u.a`mutation($data: ${m.gqlNames.createInputName}!) {\n      item: ${m.gqlNames.createMutationName}(data: $data) {\n        id\n        label: ${m.labelField}\n    }\n  }`),[v,k]=Object(a.useState)((()=>{const e={};return Object.keys(m.fields).forEach((t=>{e[t]=m.fields[t].controller.defaultValue})),e})),w=Object(a.useMemo)((()=>{const e=new Set;return Object.keys(v).forEach((t=>{const n=v[t],r=m.fields[t].controller.validate;if(r){!1===r(n)&&e.add(t)}})),e}),[m,v]),[y,x]=Object(a.useState)(!1),E=Object.keys(m.fields).filter((t=>\"loaded\"===o.state&&\"hidden\"!==o.lists[e][t])).map(((e,t)=>{const n=m.fields[e];return Object(i.n)(n.views.Field,{key:e,field:n.controller,value:v[e],forceValidation:y&&w.has(e),onChange:t=>{k(Object(r.a)(Object(r.a)({},v),{},{[e]:t}))},autoFocus:0===t})}));return Object(i.n)(l.b,{title:`Create ${m.singular}`,width:\"wide\",actions:{confirm:{label:`Create ${m.singular}`,loading:j,action:()=>{const e=0!==w.size;if(x(e),e)return;const t={};Object.keys(m.fields).forEach((e=>{const{controller:n}=m.fields[e],r=n.serialize(v[e]);c()(r,n.serialize(n.defaultValue))||Object.assign(t,r)})),O({variables:{data:t}}).then((({data:e})=>{const t=e.item.label||e.item.id;n({id:e.item.id,label:t}),f.addToast({title:t,message:\"Created Successfully\",tone:\"positive\"})})).catch((()=>{}))}},cancel:{label:\"Cancel\",action:t}}},\"error\"===o.state&&Object(i.n)(g.a,{networkError:o.error instanceof Error?o.error:void 0,errors:o.error instanceof Error?void 0:o.error}),\"loading\"===o.state&&Object(i.n)(d.a,{label:\"Loading create form\"}),h&&Object(i.n)(g.a,{networkError:null===h||void 0===h?void 0:h.networkError,errors:null===h||void 0===h?void 0:h.graphQLErrors}),Object(i.n)(i.j,{gap:\"xlarge\",paddingY:\"xlarge\"},E,0===E.length&&\"There are no fields that you can read or edit\"))}},ONmz:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(\"ERkP\"),a=n(\"okno\");n(\"97Jx\"),n(\"m3Bd\"),n(\"J8OT\");const o=Object(a.a)(r.createElement(\"polyline\",{points:\"9 18 15 12 9 6\"}),\"ChevronRightIcon\")},egvM:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return z})),n.d(t,\"b\",(function(){return x})),n.d(t,\"c\",(function(){return S}));var r=n(\"cxan\"),a=n(\"J8OT\"),o=n(\"ERkP\"),c=n.n(o),i=n(\"HbGN\"),l=n(\"Bkb1\"),s=n(\"rkyN\"),d=n(\"kSZk\"),b=n(\"r1vM\"),u=n(\"ONmz\"),p=n(\"ibUV\"),g=n(\"iBAD\"),m=n(\"zcq3\"),f=n(\"jvFD\"),O=n.n(f),j=n(\"4/oc\");const h=()=>{var e;const{spacing:t}=Object(a.t)(),{adminConfig:n}=Object(p.b)();return null!==(e=n.components)&&void 0!==e&&e.Logo?Object(a.n)(n.components.Logo,null):Object(a.n)(a.f,null,Object(a.n)(O.a,{href:\"/\",passHref:!0},Object(a.n)(\"a\",{css:{backgroundImage:\"linear-gradient(to right, #0ea5e9, #6366f1)\",backgroundClip:\"text\",lineHeight:\"1.75rem\",color:\"transparent\",verticalAlign:\"middle\",transition:\"color 0.3s ease\",textDecoration:\"none\"}},Object(a.n)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 220 220\",css:{display:\"inline-block\",width:\"2rem\",height:\"2rem\",margin:`0  ${t.medium}px ${t.xsmall}px 0`,verticalAlign:\"middle\"}},Object(a.n)(\"defs\",null,Object(a.n)(\"linearGradient\",{id:\"logo-a\",x1:\"0%\",x2:\"50%\",y1:\"0%\",y2:\"71.9%\"},Object(a.n)(\"stop\",{offset:\"0%\",stopColor:\"#5AE8FA\"}),Object(a.n)(\"stop\",{offset:\"100%\",stopColor:\"#2684FF\"}))),Object(a.n)(\"path\",{fill:\"url(#logo-a)\",fillRule:\"evenodd\",d:\"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z\",transform:\"translate(-238.9 -47)\"})),\"Keystone Next\")))},v=({href:e,children:t})=>{const{colors:n,palette:r,spacing:o,radii:c,typography:i}=Object(a.t)(),s=Object(l.useRouter)(),d=s.pathname===e||s.pathname.split(\"/\")[1]===e.split(\"/\")[1];return Object(a.n)(g.a,{\"aria-current\":!!d&&\"location\",href:e,css:{background:\"transparent\",borderBottomRightRadius:c.xsmall,borderTopRightRadius:c.xsmall,color:r.neutral700,display:\"block\",fontWeight:i.fontWeight.medium,marginBottom:o.xsmall,marginRight:o.xlarge,padding:`${o.small}px ${o.xlarge}px`,position:\"relative\",textDecoration:\"none\",\":hover\":{background:n.backgroundHover,color:n.linkHoverColor},\"&[aria-current=location]\":{background:r.neutral200,color:r.neutral900}}},t)},k=({item:e})=>{const{spacing:t,typography:n}=Object(a.t)();return Object(a.n)(\"div\",{css:{alignItems:\"center\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",margin:t.xlarge,marginBottom:0}},Object(a.n)(\"div\",{css:{fontSize:n.fontSize.small}},\"Signed in as \",Object(a.n)(\"strong\",null,e.label)),Object(a.n)(d.a,{placement:\"bottom\",triggerRenderer:({triggerProps:e})=>Object(a.n)(s.a,Object(r.a)({size:\"small\",style:{padding:0,width:36},\"aria-label\":\"Links and signout\"},e),Object(a.n)(b.a,null))},Object(a.n)(a.j,{gap:\"medium\",padding:\"large\",dividers:\"between\"},Object(a.n)(w,{target:\"_blank\",href:\"/api/graphql\"},\"API Explorer\"),Object(a.n)(w,{target:\"_blank\",href:\"https://github.com/keystonejs/keystone\"},\"GitHub Repository\"),Object(a.n)(w,{target:\"_blank\",href:\"https://next.keystonejs.com\"},\"Keystone Documentation\"),Object(a.n)(m.a,null))))},w=e=>{let{children:t}=e,n=Object(i.a)(e,[\"children\"]);const{typography:o}=Object(a.t)();return Object(a.n)(\"a\",Object(r.a)({css:{alignItems:\"center\",display:\"flex\",fontSize:o.fontSize.small,textDecoration:\"none\"}},n),t,Object(a.n)(u.a,{size:\"small\"}))},y=()=>{const{adminMeta:{lists:e},authenticatedItem:t,visibleLists:n}=Object(p.b)(),{spacing:r}=Object(a.t)();return Object(a.n)(\"div\",{css:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"}},\"authenticated\"===t.state&&Object(a.n)(k,{item:t}),Object(a.n)(\"nav\",{css:{marginTop:r.xlarge}},Object(a.n)(v,{href:\"/\"},\"Dashboard\"),\"loading\"===n.state?null:\"error\"===n.state?Object(a.n)(\"span\",{css:{color:\"red\"}},n.error instanceof Error?n.error.message:n.error[0].message):Object.keys(e).map((t=>{if(!n.lists.has(t))return null;const r=e[t];return Object(a.n)(v,{key:t,href:`/${r.path}`},e[t].label)}))))},x=80,E=e=>Object(a.n)(o.Fragment,null,Object(a.n)(\"style\",null,\"body { overflow: hidden; }\"),Object(a.n)(\"div\",Object(r.a)({css:{display:\"grid\",gridTemplateColumns:\"minmax(300px, 1fr) 4fr\",gridTemplateRows:`${x}px auto`,height:\"100vh\"}},e))),C=e=>Object(a.n)(\"aside\",Object(r.a)({css:{minWidth:0,overflowY:\"auto\",WebkitOverflowScrolling:\"touch\"}},e)),R=e=>{const{colors:t,spacing:n}=Object(a.t)();return Object(a.n)(\"main\",Object(r.a)({css:{backgroundColor:t.background,boxSizing:\"border-box\",minWidth:0,paddingLeft:n.xlarge,paddingRight:n.xlarge,overflowY:\"auto\",WebkitOverflowScrolling:\"touch\"}},e))},S=({children:e,header:t})=>{const{colors:n,spacing:r}=Object(a.t)();return Object(a.n)(E,null,Object(a.n)(\"div\",{css:{alignItems:\"center\",borderBottom:`1px solid ${n.border}`,display:\"flex\",justifyContent:\"space-between\",paddingLeft:r.xlarge,paddingRight:r.xlarge}},Object(a.n)(h,null)),Object(a.n)(\"header\",{css:{alignItems:\"center\",backgroundColor:n.background,borderBottom:`1px solid ${n.border}`,display:\"flex\",justifyContent:\"space-between\",minWidth:0,paddingLeft:r.xlarge,paddingRight:r.xlarge}},t),Object(a.n)(C,null,Object(a.n)(y,null)),Object(a.n)(R,null,e))};function z({errors:e,networkError:t}){return t?c.a.createElement(j.a,{tone:\"negative\"},t.message):null!==e&&void 0!==e&&e.length?c.a.createElement(a.j,{gap:\"small\"},e.map((e=>{var t,n;const r=e;return\"ValidationFailureError\"===e.name&&null!==(t=r.data)&&void 0!==t&&null!==(n=t.messages)&&void 0!==n&&n.length?r.data.messages.map((e=>c.a.createElement(j.a,{tone:\"negative\"},e))):c.a.createElement(j.a,{tone:\"negative\"},e.message)}))):null}},kSZk:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return b})),n.d(t,\"b\",(function(){return u})),n.d(t,\"c\",(function(){return d}));var r=n(\"cxan\"),a=n(\"HbGN\"),o=n(\"Czhu\"),c=n(\"ERkP\"),i=n(\"/BT6\"),l=n(\"nxFc\"),s=n(\"J8OT\");const d=(e={},t={handleClose:\"both\"})=>{const[n,r]=Object(c.useState)(!1);return Object(o.a)({isOpen:n,setOpen:r},(({isOpen:e,onClose:t},n={},r={handleClose:\"both\"})=>{const[a,i]=Object(c.useState)(null),[s,d]=Object(c.useState)(),[b,u]=Object(c.useState)(),{styles:m,attributes:f,update:O}=Object(l.a)(a,s,Object(o.a)(Object(o.a)({},n),{},{modifiers:[...n.modifiers||[],{name:\"arrow\",options:{element:b}},{name:\"eventListeners\",options:{scroll:e,resize:e}}]}));return Object(c.useEffect)((()=>{O&&e&&O()}),[e,O]),p({handler:()=>t(),elements:[a,s],listenWhen:[\"both\",\"mouse\"].includes(r.handleClose)&&e}),g({targetKey:\"Escape\",downHandler:Object(c.useCallback)((e=>{e.preventDefault(),t()}),[t]),listenWhen:[\"both\",\"keyboard\"].includes(r.handleClose)&&e}),{trigger:Object(c.useMemo)((()=>({ref:i,props:{\"aria-haspopup\":!0,\"aria-expanded\":e}})),[e]),dialog:Object(c.useMemo)((()=>({ref:d,props:Object(o.a)({style:m.popper},f.popper)})),[m.popper,f.popper]),arrow:Object(c.useMemo)((()=>({ref:u,props:{style:m.arrow}})),[m.arrow])}})({isOpen:n,onClose:Object(c.useCallback)((()=>r(!1)),[])},e,t))},b=e=>{let{placement:t=\"bottom\",triggerRenderer:n}=e,i=Object(a.a)(e,[\"placement\",\"triggerRenderer\"]);const{isOpen:l,setOpen:b,trigger:p,dialog:g,arrow:m}=d({placement:t,modifiers:[{name:\"offset\",options:{offset:[0,8]}}]});return Object(s.n)(c.Fragment,null,n({isOpen:l,triggerProps:Object(o.a)(Object(o.a)({ref:p.ref},p.props),{},{onClick:()=>b(!0)})}),Object(s.n)(u,Object(r.a)({isVisible:l,arrow:m,ref:g.ref},g.props,i)))},u=Object(c.forwardRef)(((e,t)=>{let{isVisible:n,children:l,arrow:d}=e,b=Object(a.a)(e,[\"isVisible\",\"children\",\"arrow\"]);const{elevation:u,radii:p,shadow:g,colors:f}=Object(s.t)(),O=Object(c.useRef)(null),j=Object(c.useRef)(null);return Object(c.useEffect)((()=>{null!==O&&void 0!==O&&O.current&&(j.current=i.a(O.current))}),[O]),Object(c.useEffect)((()=>{null!==j&&void 0!==j&&j.current&&(n?j.current.activate():j.current.deactivate())}),[n,j]),Object(s.n)(s.i,null,Object(s.n)(\"div\",Object(r.a)({ref:t,css:Object(o.a)({background:f.background,borderRadius:p.medium,boxShadow:g.s300,opacity:n?1:0,pointerEvents:n?void 0:\"none\",zIndex:u.e500},m())},b),Object(s.n)(\"div\",{ref:O},n&&Object(s.n)(c.Fragment,null,Object(s.n)(\"div\",Object(r.a)({\"data-popper-arrow\":!0,ref:d.ref,className:\"tooltipArrow\"},d.props)),l))))})),p=({handler:e,elements:t,listenWhen:n})=>{Object(c.useEffect)((()=>{if(n){let n=n=>{t.some((e=>e&&e.contains(n.target)))||e(n)};return document.addEventListener(\"mousedown\",n),()=>{document.removeEventListener(\"mousedown\",n)}}}),[e,t,n])},g=({targetKey:e,targetElement:t,downHandler:n,upHandler:r,listenWhen:a})=>{const[o,i]=Object(c.useState)(!1);return Object(c.useEffect)((()=>{let o=t||document.body,c=t=>{t.key===e&&(i(!0),\"function\"===typeof n&&n(t))},l=t=>{t.key===e&&(i(!1),\"function\"===typeof r&&r(t))};if(a)return o.addEventListener(\"keydown\",c),o.addEventListener(\"keyup\",l),()=>{o.removeEventListener(\"keydown\",c),o.removeEventListener(\"keyup\",l)}}),[a,e,n,r,t]),o},m=()=>{const e=Object(s.t)();return{\"& [data-popper-arrow]\":{position:\"absolute\",overflow:\"hidden\",pointerEvents:\"none\",height:32,width:32,\"&::after\":{content:'\"\"',position:\"absolute\",background:e.colors.background,width:16,height:16,transform:\"translateX(-50%) translateY(-50%) rotate(45deg)\",boxShadow:e.shadow.s200}},\"&[data-popper-placement^='left'] > [data-popper-arrow]\":{left:\"100%\",\"&::after\":{top:\"50%\",left:\"0\"}},\"&[data-popper-placement^='right'] > [data-popper-arrow]\":{right:\"100%\",\"&::after\":{top:\"50%\",left:\"100%\"}},\"&[data-popper-placement^='top'] > [data-popper-arrow]\":{top:\"100%\",\"&::after\":{top:0,bottom:\"-50%\",left:\"50%\"}},\"&[data-popper-placement^='bottom'] > [data-popper-arrow]\":{bottom:\"100%\",right:\"unset\",\"&::after\":{bottom:\"-50%\",left:\"50%\"}}}}},r1vM:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(\"ERkP\"),a=n(\"okno\");n(\"97Jx\"),n(\"m3Bd\"),n(\"J8OT\");const o=Object(a.a)(r.createElement(r.Fragment,null,r.createElement(\"circle\",{cx:12,cy:12,r:1}),r.createElement(\"circle\",{cx:19,cy:12,r:1}),r.createElement(\"circle\",{cx:5,cy:12,r:1})),\"MoreHorizontalIcon\")},zcq3:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(\"J8OT\"),a=n(\"rkyN\"),o=n(\"ERkP\"),c=n(\"Z4DO\"),i=n(\"xiH9\");const l=c.a`\n  mutation EndSession {\n    endSession\n  }\n`,s=({children:e})=>{const[t,{loading:n,data:c}]=Object(i.a)(l);return Object(o.useEffect)((()=>{null!==c&&void 0!==c&&c.endSession&&window.location.reload()}),[c]),Object(r.n)(a.a,{size:\"small\",isLoading:n,onClick:()=>t()},e||\"Sign out\")}}}]);","map":{"version":3,"sources":["static/chunks/4e7dc511413567e41a42cf02468d7127920add12.f8dabe5e70bfea69e463.js"],"names":["window","push","7Rsm","module","__webpack_exports__","__webpack_require__","d","CreateItemDrawer","_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__","fast_deep_equal__WEBPACK_IMPORTED_MODULE_2___default","n","_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__","_keystone_ui_modals__WEBPACK_IMPORTED_MODULE_4__","_keystone_ui_toast__WEBPACK_IMPORTED_MODULE_5__","_keystone_ui_loading__WEBPACK_IMPORTED_MODULE_6__","_apollo_client__WEBPACK_IMPORTED_MODULE_7__","_apollo_client__WEBPACK_IMPORTED_MODULE_8__","_admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__","_GraphQLErrorNotice_f9c76b5f_esm_js__WEBPACK_IMPORTED_MODULE_10__","listKey","onClose","onCreate","createViewFieldModes","Object","list","toasts","createItem","loading","error","gqlNames","createInputName","createMutationName","labelField","valuesByFieldPath","setValuesByFieldPath","value","keys","fields","forEach","fieldPath","controller","defaultValue","invalidFields","Set","val","validateFn","validate","add","forceValidation","setForceValidation","filter","state","lists","map","index","field","views","Field","key","has","onChange","fieldValue","[object Object]","autoFocus","title","singular","width","actions","confirm","label","action","newForceValidation","size","data","serialized","serialize","assign","variables","then","item","id","addToast","message","tone","catch","cancel","networkError","Error","undefined","errors","graphQLErrors","gap","paddingY","length","ONmz","ChevronRightIcon","react__WEBPACK_IMPORTED_MODULE_0__","_dist_Icon_07874377_esm_js__WEBPACK_IMPORTED_MODULE_1__","points","egvM","GraphQLErrorNotice","HEADER_HEIGHT","PageContainer","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","next_router__WEBPACK_IMPORTED_MODULE_4__","_keystone_ui_button__WEBPACK_IMPORTED_MODULE_5__","_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_6__","_keystone_ui_icons_icons_MoreHorizontalIcon__WEBPACK_IMPORTED_MODULE_7__","_keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_8__","_admin_ui_router_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_10__","_SignoutButton_737242a4_esm_js__WEBPACK_IMPORTED_MODULE_11__","next_link__WEBPACK_IMPORTED_MODULE_12__","next_link__WEBPACK_IMPORTED_MODULE_12___default","_keystone_ui_notice__WEBPACK_IMPORTED_MODULE_13__","Logo","_adminConfig$componen","spacing","adminConfig","components","a","href","passHref","css","backgroundImage","backgroundClip","lineHeight","color","verticalAlign","transition","textDecoration","xmlns","viewBox","display","height","margin","medium","xsmall","x1","x2","y1","y2","offset","stopColor","fill","fillRule","transform","NavItem","children","colors","palette","radii","typography","router","isSelected","pathname","split","aria-current","background","borderBottomRightRadius","borderTopRightRadius","neutral700","fontWeight","marginBottom","marginRight","xlarge","padding","small","position",":hover","backgroundHover","linkHoverColor","&[aria-current=location]","neutral200","neutral900","AuthenticatedItem","alignItems","flexDirection","justifyContent","fontSize","placement","triggerRenderer","triggerProps","style","aria-label","dividers","PopoverLink","target","_ref","props","Navigation","adminMeta","authenticatedItem","visibleLists","marginTop","path","PageWrapper","gridTemplateColumns","gridTemplateRows","Sidebar","minWidth","overflowY","WebkitOverflowScrolling","Content","backgroundColor","boxSizing","paddingLeft","paddingRight","header","borderBottom","border","createElement","err","_errButAny$data","_errButAny$data$messa","errButAny","name","messages","kSZk","Popover","PopoverDialog","usePopover","_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","focus_trap__WEBPACK_IMPORTED_MODULE_4__","react_popper__WEBPACK_IMPORTED_MODULE_5__","_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__","popperOptions","popoverOptions","handleClose","isOpen","setOpen","anchorElement","setAnchorElement","popoverElement","setPopoverElement","arrowElement","setArrowElement","styles","attributes","update","modifiers","options","element","scroll","resize","useClickOutside","handler","elements","listenWhen","includes","useKeyPress","targetKey","downHandler","event","preventDefault","trigger","ref","aria-haspopup","aria-expanded","dialog","popper","arrow","useControlledPopover","onClick","isVisible","_ref2","consumerRef","elevation","shadow","focusTrapRef","focusTrap","current","activate","deactivate","borderRadius","boxShadow","s300","opacity","pointerEvents","zIndex","e500","useArrowStyles","data-popper-arrow","className","handleMouseDown","some","el","contains","document","addEventListener","removeEventListener","targetElement","upHandler","keyPressed","setKeyPressed","body","onDown","onUp","theme","& [data-popper-arrow]","overflow","&::after","content","s200","&[data-popper-placement^='left'] > [data-popper-arrow]","left","top","&[data-popper-placement^='right'] > [data-popper-arrow]","right","&[data-popper-placement^='top'] > [data-popper-arrow]","bottom","&[data-popper-placement^='bottom'] > [data-popper-arrow]","r1vM","MoreHorizontalIcon","cx","cy","r","zcq3","SignoutButton","_keystone_ui_core__WEBPACK_IMPORTED_MODULE_0__","_keystone_ui_button__WEBPACK_IMPORTED_MODULE_1__","_apollo_client__WEBPACK_IMPORTED_MODULE_3__","_apollo_client__WEBPACK_IMPORTED_MODULE_4__","END_SESSION","endSession","location","reload","isLoading"],"mappings":"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"},"name":"static/chunks/4e7dc511413567e41a42cf02468d7127920add12.f8dabe5e70bfea69e463.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[6],{\n\n/***/ \"7Rsm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CreateItemDrawer; });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"Czhu\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ERkP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"b2e3\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"J8OT\");\n/* harmony import */ var _keystone_ui_modals__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"NyF8\");\n/* harmony import */ var _keystone_ui_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"K6ZL\");\n/* harmony import */ var _keystone_ui_loading__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"T49u\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"xiH9\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"Z4DO\");\n/* harmony import */ var _admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ibUV\");\n/* harmony import */ var _GraphQLErrorNotice_f9c76b5f_esm_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"egvM\");\n\n\n\n\n\n\n\n\n\n\n\nfunction CreateItemDrawer({\n  listKey,\n  onClose,\n  onCreate\n}) {\n  const {\n    createViewFieldModes\n  } = Object(_admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__[/* useKeystone */ \"b\"])();\n  const list = Object(_admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__[/* useList */ \"c\"])(listKey);\n  const toasts = Object(_keystone_ui_toast__WEBPACK_IMPORTED_MODULE_5__[/* useToasts */ \"b\"])();\n  const [createItem, {\n    loading,\n    error\n  }] = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_7__[/* useMutation */ \"a\"])(_apollo_client__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"]`mutation($data: ${list.gqlNames.createInputName}!) {\n      item: ${list.gqlNames.createMutationName}(data: $data) {\n        id\n        label: ${list.labelField}\n    }\n  }`);\n  const [valuesByFieldPath, setValuesByFieldPath] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(() => {\n    const value = {};\n    Object.keys(list.fields).forEach(fieldPath => {\n      value[fieldPath] = list.fields[fieldPath].controller.defaultValue;\n    });\n    return value;\n  });\n  const invalidFields = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useMemo\"])(() => {\n    const invalidFields = new Set();\n    Object.keys(valuesByFieldPath).forEach(fieldPath => {\n      const val = valuesByFieldPath[fieldPath];\n      const validateFn = list.fields[fieldPath].controller.validate;\n\n      if (validateFn) {\n        const result = validateFn(val);\n\n        if (result === false) {\n          invalidFields.add(fieldPath);\n        }\n      }\n    });\n    return invalidFields;\n  }, [list, valuesByFieldPath]);\n  const [forceValidation, setForceValidation] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false);\n  const fields = Object.keys(list.fields).filter(fieldPath => createViewFieldModes.state === 'loaded' ? createViewFieldModes.lists[listKey][fieldPath] !== 'hidden' : false).map((fieldPath, index) => {\n    const field = list.fields[fieldPath];\n    return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"n\"])(field.views.Field, {\n      key: fieldPath,\n      field: field.controller,\n      value: valuesByFieldPath[fieldPath],\n      forceValidation: forceValidation && invalidFields.has(fieldPath),\n      onChange: fieldValue => {\n        setValuesByFieldPath(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, valuesByFieldPath), {}, {\n          [fieldPath]: fieldValue\n        }));\n      },\n      autoFocus: index === 0\n    });\n  });\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"n\"])(_keystone_ui_modals__WEBPACK_IMPORTED_MODULE_4__[/* Drawer */ \"b\"], {\n    title: `Create ${list.singular}`,\n    width: \"wide\",\n    actions: {\n      confirm: {\n        label: `Create ${list.singular}`,\n        loading,\n        action: () => {\n          const newForceValidation = invalidFields.size !== 0;\n          setForceValidation(newForceValidation);\n          if (newForceValidation) return;\n          const data = {};\n          Object.keys(list.fields).forEach(fieldPath => {\n            const {\n              controller\n            } = list.fields[fieldPath];\n            const serialized = controller.serialize(valuesByFieldPath[fieldPath]);\n\n            if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_2___default()(serialized, controller.serialize(controller.defaultValue))) {\n              Object.assign(data, serialized);\n            }\n          });\n          createItem({\n            variables: {\n              data\n            }\n          }).then(({\n            data\n          }) => {\n            const label = data.item.label || data.item.id;\n            onCreate({\n              id: data.item.id,\n              label\n            });\n            toasts.addToast({\n              title: label,\n              message: 'Created Successfully',\n              tone: 'positive'\n            });\n          }).catch(() => {});\n        }\n      },\n      cancel: {\n        label: 'Cancel',\n        action: onClose\n      }\n    }\n  }, createViewFieldModes.state === 'error' && Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"n\"])(_GraphQLErrorNotice_f9c76b5f_esm_js__WEBPACK_IMPORTED_MODULE_10__[/* G */ \"a\"], {\n    networkError: createViewFieldModes.error instanceof Error ? createViewFieldModes.error : undefined,\n    errors: createViewFieldModes.error instanceof Error ? undefined : createViewFieldModes.error\n  }), createViewFieldModes.state === 'loading' && Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"n\"])(_keystone_ui_loading__WEBPACK_IMPORTED_MODULE_6__[/* LoadingDots */ \"a\"], {\n    label: \"Loading create form\"\n  }), error && Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"n\"])(_GraphQLErrorNotice_f9c76b5f_esm_js__WEBPACK_IMPORTED_MODULE_10__[/* G */ \"a\"], {\n    networkError: error === null || error === void 0 ? void 0 : error.networkError,\n    errors: error === null || error === void 0 ? void 0 : error.graphQLErrors\n  }), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* jsx */ \"n\"])(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* Stack */ \"j\"], {\n    gap: \"xlarge\",\n    paddingY: \"xlarge\"\n  }, fields, fields.length === 0 && 'There are no fields that you can read or edit'));\n}\n\n\n\n\n/***/ }),\n\n/***/ \"ONmz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ChevronRightIcon; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"ERkP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _dist_Icon_07874377_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"okno\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"97Jx\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"m3Bd\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"J8OT\");\n\n\n\n\n\n\nconst ChevronRightIcon = Object(_dist_Icon_07874377_esm_js__WEBPACK_IMPORTED_MODULE_1__[/* c */ \"a\"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"polyline\", {\n  points: \"9 18 15 12 9 6\"\n}), 'ChevronRightIcon');\n\n\n\n\n/***/ }),\n\n/***/ \"egvM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GraphQLErrorNotice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return HEADER_HEIGHT; });\n/* unused harmony export L */\n/* unused harmony export N */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return PageContainer; });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cxan\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"J8OT\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"ERkP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"HbGN\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"Bkb1\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _keystone_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"rkyN\");\n/* harmony import */ var _keystone_ui_popover__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"kSZk\");\n/* harmony import */ var _keystone_ui_icons_icons_MoreHorizontalIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"r1vM\");\n/* harmony import */ var _keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ONmz\");\n/* harmony import */ var _admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ibUV\");\n/* harmony import */ var _admin_ui_router_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"iBAD\");\n/* harmony import */ var _SignoutButton_737242a4_esm_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"zcq3\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"jvFD\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _keystone_ui_notice__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"4/oc\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* @jsx jsx */\nconst Logo = () => {\n  var _adminConfig$componen;\n\n  const {\n    spacing\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  const {\n    adminConfig\n  } = Object(_admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__[/* useKeystone */ \"b\"])();\n\n  if ((_adminConfig$componen = adminConfig.components) !== null && _adminConfig$componen !== void 0 && _adminConfig$componen.Logo) {\n    return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(adminConfig.components.Logo, null);\n  }\n\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* H3 */ \"f\"], null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(next_link__WEBPACK_IMPORTED_MODULE_12___default.a, {\n    href: \"/\",\n    passHref: true\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"a\", {\n    css: {\n      // TODO: we dont' have colors in our design-system for this.\n      backgroundImage: `linear-gradient(to right, #0ea5e9, #6366f1)`,\n      backgroundClip: 'text',\n      lineHeight: '1.75rem',\n      color: 'transparent',\n      verticalAlign: 'middle',\n      transition: 'color 0.3s ease',\n      textDecoration: 'none'\n    }\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 220\",\n    css: {\n      display: 'inline-block',\n      width: '2rem',\n      height: '2rem',\n      margin: `0  ${spacing.medium}px ${spacing.xsmall}px 0`,\n      verticalAlign: 'middle'\n    }\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"defs\", null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"linearGradient\", {\n    id: \"logo-a\",\n    x1: \"0%\",\n    x2: \"50%\",\n    y1: \"0%\",\n    y2: \"71.9%\"\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"stop\", {\n    offset: \"0%\",\n    stopColor: \"#5AE8FA\"\n  }), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#2684FF\"\n  }))), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"path\", {\n    fill: \"url(#logo-a)\",\n    fillRule: \"evenodd\",\n    d: \"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z\",\n    transform: \"translate(-238.9 -47)\"\n  })), \"Keystone Next\")));\n};\n\nconst NavItem = ({\n  href,\n  children\n}) => {\n  const {\n    colors,\n    palette,\n    spacing,\n    radii,\n    typography\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_4__[\"useRouter\"])();\n  const isSelected = router.pathname === href || router.pathname.split('/')[1] === href.split('/')[1];\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_admin_ui_router_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_10__[/* Link */ \"a\"], {\n    \"aria-current\": isSelected ? 'location' : false,\n    href: href,\n    css: {\n      background: 'transparent',\n      borderBottomRightRadius: radii.xsmall,\n      borderTopRightRadius: radii.xsmall,\n      color: palette.neutral700,\n      display: 'block',\n      fontWeight: typography.fontWeight.medium,\n      marginBottom: spacing.xsmall,\n      marginRight: spacing.xlarge,\n      padding: `${spacing.small}px ${spacing.xlarge}px`,\n      position: 'relative',\n      textDecoration: 'none',\n      ':hover': {\n        background: colors.backgroundHover,\n        color: colors.linkHoverColor\n      },\n      '&[aria-current=location]': {\n        background: palette.neutral200,\n        color: palette.neutral900\n      }\n    }\n  }, children);\n};\n\nconst AuthenticatedItem = ({\n  item\n}) => {\n  const {\n    spacing,\n    typography\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      margin: spacing.xlarge,\n      marginBottom: 0\n    }\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"div\", {\n    css: {\n      fontSize: typography.fontSize.small\n    }\n  }, \"Signed in as \", Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"strong\", null, item.label)), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_keystone_ui_popover__WEBPACK_IMPORTED_MODULE_6__[/* Popover */ \"a\"], {\n    placement: \"bottom\",\n    triggerRenderer: ({\n      triggerProps\n    }) => Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_5__[/* Button */ \"a\"], Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n      size: \"small\",\n      style: {\n        padding: 0,\n        width: 36\n      },\n      \"aria-label\": \"Links and signout\"\n    }, triggerProps), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_keystone_ui_icons_icons_MoreHorizontalIcon__WEBPACK_IMPORTED_MODULE_7__[/* MoreHorizontalIcon */ \"a\"], null))\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* Stack */ \"j\"], {\n    gap: \"medium\",\n    padding: \"large\",\n    dividers: \"between\"\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(PopoverLink, {\n    target: \"_blank\",\n    href: \"/api/graphql\"\n  }, \"API Explorer\"), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(PopoverLink, {\n    target: \"_blank\",\n    href: \"https://github.com/keystonejs/keystone\"\n  }, \"GitHub Repository\"), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(PopoverLink, {\n    target: \"_blank\",\n    href: \"https://next.keystonejs.com\"\n  }, \"Keystone Documentation\"), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_SignoutButton_737242a4_esm_js__WEBPACK_IMPORTED_MODULE_11__[/* S */ \"a\"], null))));\n};\n\nconst PopoverLink = _ref => {\n  let {\n    children\n  } = _ref,\n      props = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_ref, [\"children\"]);\n\n  const {\n    typography\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"a\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: typography.fontSize.small,\n      textDecoration: 'none'\n    }\n  }, props), children, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(_keystone_ui_icons_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_8__[/* ChevronRightIcon */ \"a\"], {\n    size: \"small\"\n  }));\n};\n\nconst Navigation = () => {\n  const {\n    adminMeta: {\n      lists\n    },\n    authenticatedItem,\n    visibleLists\n  } = Object(_admin_ui_context_dist_keystone_esm_js__WEBPACK_IMPORTED_MODULE_9__[/* useKeystone */ \"b\"])();\n  const {\n    spacing\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"div\", {\n    css: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    }\n  }, authenticatedItem.state === 'authenticated' && Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(AuthenticatedItem, {\n    item: authenticatedItem\n  }), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"nav\", {\n    css: {\n      marginTop: spacing.xlarge\n    }\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(NavItem, {\n    href: \"/\"\n  }, \"Dashboard\"), (() => {\n    if (visibleLists.state === 'loading') return null;\n\n    if (visibleLists.state === 'error') {\n      return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"span\", {\n        css: {\n          color: 'red'\n        }\n      }, visibleLists.error instanceof Error ? visibleLists.error.message : visibleLists.error[0].message);\n    }\n\n    return Object.keys(lists).map(key => {\n      if (!visibleLists.lists.has(key)) {\n        return null;\n      }\n\n      const list = lists[key];\n      return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(NavItem, {\n        key: key,\n        href: `/${list.path}`\n      }, lists[key].label);\n    });\n  })()));\n};\n\nconst HEADER_HEIGHT = 80;\n\nconst PageWrapper = props => {\n  // const { colors } = useTheme();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(react__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"style\", null, `body { overflow: hidden; }`), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"div\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    css: {\n      // background: colors.background,\n      display: 'grid',\n      gridTemplateColumns: `minmax(300px, 1fr) 4fr`,\n      gridTemplateRows: `${HEADER_HEIGHT}px auto`,\n      height: '100vh'\n    }\n  }, props)));\n};\n\nconst Sidebar = props => {\n  // const { colors } = useTheme();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"aside\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    css: {\n      // borderRight: `1px solid ${colors.border}`,\n      minWidth: 0,\n      // resolves collapsing issues in children\n      overflowY: 'auto',\n      WebkitOverflowScrolling: 'touch'\n    }\n  }, props));\n};\n\nconst Content = props => {\n  const {\n    colors,\n    spacing\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"main\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    css: {\n      backgroundColor: colors.background,\n      boxSizing: 'border-box',\n      minWidth: 0,\n      // resolves collapsing issues in children\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge,\n      overflowY: 'auto',\n      WebkitOverflowScrolling: 'touch'\n    }\n  }, props));\n};\n\nconst PageContainer = ({\n  children,\n  header\n}) => {\n  const {\n    colors,\n    spacing\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* useTheme */ \"t\"])();\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(PageWrapper, null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"div\", {\n    css: {\n      alignItems: 'center',\n      // borderRight: `1px solid ${colors.border}`,\n      borderBottom: `1px solid ${colors.border}`,\n      display: 'flex',\n      justifyContent: 'space-between',\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge\n    }\n  }, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(Logo, null)), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(\"header\", {\n    css: {\n      alignItems: 'center',\n      backgroundColor: colors.background,\n      borderBottom: `1px solid ${colors.border}`,\n      display: 'flex',\n      justifyContent: 'space-between',\n      minWidth: 0,\n      // fix flex text truncation\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge\n    }\n  }, header), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(Sidebar, null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(Navigation, null)), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* jsx */ \"n\"])(Content, null, children));\n};\n\nfunction GraphQLErrorNotice({\n  errors,\n  networkError\n}) {\n  if (networkError) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_keystone_ui_notice__WEBPACK_IMPORTED_MODULE_13__[/* Notice */ \"a\"], {\n      tone: \"negative\"\n    }, networkError.message);\n  }\n\n  if (errors !== null && errors !== void 0 && errors.length) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_1__[/* Stack */ \"j\"], {\n      gap: \"small\"\n    }, errors.map(err => {\n      var _errButAny$data, _errButAny$data$messa;\n\n      const errButAny = err;\n\n      if (err.name === 'ValidationFailureError' && (_errButAny$data = errButAny.data) !== null && _errButAny$data !== void 0 && (_errButAny$data$messa = _errButAny$data.messages) !== null && _errButAny$data$messa !== void 0 && _errButAny$data$messa.length) {\n        return errButAny.data.messages.map(message => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_keystone_ui_notice__WEBPACK_IMPORTED_MODULE_13__[/* Notice */ \"a\"], {\n          tone: \"negative\"\n        }, message));\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_keystone_ui_notice__WEBPACK_IMPORTED_MODULE_13__[/* Notice */ \"a\"], {\n        tone: \"negative\"\n      }, err.message);\n    }));\n  }\n\n  return null;\n}\n\n\n\n\n/***/ }),\n\n/***/ \"kSZk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Popover; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return PopoverDialog; });\n/* unused harmony export useControlledPopover */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return usePopover; });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cxan\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HbGN\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"Czhu\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ERkP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var focus_trap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"/BT6\");\n/* harmony import */ var react_popper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"nxFc\");\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"J8OT\");\n\n\n\n\n\n\n\n\nconst useControlledPopover = ({\n  isOpen,\n  onClose\n}, popperOptions = {}, popoverOptions = {\n  handleClose: 'both'\n}) => {\n  const [anchorElement, setAnchorElement] = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(null);\n  const [popoverElement, setPopoverElement] = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])();\n  const [arrowElement, setArrowElement] = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])();\n  const {\n    styles,\n    attributes,\n    update\n  } = Object(react_popper__WEBPACK_IMPORTED_MODULE_5__[/* usePopper */ \"a\"])(anchorElement, popoverElement, Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({}, popperOptions), {}, {\n    modifiers: [...(popperOptions.modifiers || []), {\n      name: 'arrow',\n      options: {\n        element: arrowElement\n      }\n    }, {\n      name: 'eventListeners',\n      options: {\n        scroll: isOpen,\n        resize: isOpen\n      }\n    }]\n  })); // update popper when it opens to get the latest placement\n  // useful for prerendered popovers in modals etc.\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    if (update && isOpen) {\n      update();\n    }\n  }, [isOpen, update]); // close on click outside\n\n  useClickOutside({\n    handler: () => onClose(),\n    elements: [anchorElement, popoverElement],\n    listenWhen: ['both', 'mouse'].includes(popoverOptions.handleClose) && isOpen\n  }); // close on esc press\n\n  useKeyPress({\n    targetKey: 'Escape',\n    downHandler: Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(event => {\n      event.preventDefault(); // Avoid potential close of modal\n\n      onClose();\n    }, [onClose]),\n    listenWhen: ['both', 'keyboard'].includes(popoverOptions.handleClose) && isOpen\n  });\n  return {\n    trigger: Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useMemo\"])(() => ({\n      ref: setAnchorElement,\n      props: {\n        'aria-haspopup': true,\n        'aria-expanded': isOpen\n      }\n    }), [isOpen]),\n    dialog: Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useMemo\"])(() => ({\n      ref: setPopoverElement,\n      props: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({\n        style: styles.popper\n      }, attributes.popper)\n    }), [styles.popper, attributes.popper]),\n    arrow: Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useMemo\"])(() => ({\n      ref: setArrowElement,\n      props: {\n        style: styles.arrow\n      }\n    }), [styles.arrow])\n  };\n};\nconst usePopover = (popperOptions = {}, popoverOptions = {\n  handleClose: 'both'\n}) => {\n  const [isOpen, setOpen] = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false);\n  return Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({\n    isOpen,\n    setOpen\n  }, useControlledPopover({\n    isOpen,\n    onClose: Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(() => setOpen(false), [])\n  }, popperOptions, popoverOptions));\n}; // Component\n// ------------------------------\n\nconst Popover = _ref => {\n  let {\n    placement = 'bottom',\n    triggerRenderer\n  } = _ref,\n      props = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref, [\"placement\", \"triggerRenderer\"]);\n\n  const {\n    isOpen,\n    setOpen,\n    trigger,\n    dialog,\n    arrow\n  } = usePopover({\n    placement,\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [0, 8]\n      }\n    }]\n  });\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(react__WEBPACK_IMPORTED_MODULE_3__[\"Fragment\"], null, triggerRenderer({\n    isOpen,\n    triggerProps: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({\n      ref: trigger.ref\n    }, trigger.props), {}, {\n      onClick: () => setOpen(true)\n    })\n  }), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(PopoverDialog, Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    isVisible: isOpen,\n    arrow: arrow,\n    ref: dialog.ref\n  }, dialog.props, props)));\n}; // Dialog\n// ------------------------------\n\nconst PopoverDialog = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_3__[\"forwardRef\"])((_ref2, consumerRef) => {\n  let {\n    isVisible,\n    children,\n    arrow\n  } = _ref2,\n      props = Object(_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref2, [\"isVisible\", \"children\", \"arrow\"]);\n\n  const {\n    elevation,\n    radii,\n    shadow,\n    colors\n  } = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* useTheme */ \"t\"])();\n  const focusTrapRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  const focusTrap = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    if (focusTrapRef !== null && focusTrapRef !== void 0 && focusTrapRef.current) {\n      focusTrap.current = focus_trap__WEBPACK_IMPORTED_MODULE_4__[/* createFocusTrap */ \"a\"](focusTrapRef.current);\n    }\n  }, [focusTrapRef]);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    if (focusTrap !== null && focusTrap !== void 0 && focusTrap.current) {\n      if (isVisible) {\n        focusTrap.current.activate();\n      } else {\n        focusTrap.current.deactivate();\n      }\n    }\n  }, [isVisible, focusTrap]);\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* Portal */ \"i\"], null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(\"div\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    ref: consumerRef,\n    css: Object(_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({\n      background: colors.background,\n      borderRadius: radii.medium,\n      boxShadow: shadow.s300,\n      opacity: isVisible ? 1 : 0,\n      pointerEvents: isVisible ? undefined : 'none',\n      zIndex: elevation.e500\n    }, useArrowStyles())\n  }, props), Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(\"div\", {\n    ref: focusTrapRef\n  }, isVisible && Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(react__WEBPACK_IMPORTED_MODULE_3__[\"Fragment\"], null, Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* jsx */ \"n\"])(\"div\", Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({\n    \"data-popper-arrow\": true,\n    ref: arrow.ref,\n    className: \"tooltipArrow\"\n  }, arrow.props)), children))));\n}); // TODO: maybe we should add an invisible blanket and have a regular react event listener on that instead of this?\n// NOTE: mouse event handler defined here rather than imported from react becase\n// the event listener will return a native event, not a synthetic event\n\nconst useClickOutside = ({\n  handler,\n  elements,\n  listenWhen\n}) => {\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    if (listenWhen) {\n      let handleMouseDown = event => {\n        // bail on mouse down \"inside\" any of the provided elements\n        if (elements.some(el => el && el.contains(event.target))) {\n          return;\n        }\n\n        handler(event);\n      };\n\n      document.addEventListener('mousedown', handleMouseDown);\n      return () => {\n        document.removeEventListener('mousedown', handleMouseDown);\n      };\n    }\n  }, [handler, elements, listenWhen]);\n};\n\nconst useKeyPress = ({\n  targetKey,\n  targetElement,\n  downHandler,\n  upHandler,\n  listenWhen\n}) => {\n  // Keep track of whether the target key is pressed\n  const [keyPressed, setKeyPressed] = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false); // add event listeners\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(() => {\n    let target = targetElement || document.body;\n\n    let onDown = event => {\n      if (event.key === targetKey) {\n        setKeyPressed(true);\n\n        if (typeof downHandler === 'function') {\n          downHandler(event);\n        }\n      }\n    };\n\n    let onUp = event => {\n      if (event.key === targetKey) {\n        setKeyPressed(false);\n\n        if (typeof upHandler === 'function') {\n          upHandler(event);\n        }\n      }\n    };\n\n    if (listenWhen) {\n      target.addEventListener('keydown', onDown);\n      target.addEventListener('keyup', onUp); // Remove event listeners on cleanup\n\n      return () => {\n        target.removeEventListener('keydown', onDown);\n        target.removeEventListener('keyup', onUp);\n      };\n    }\n  }, [listenWhen, targetKey, downHandler, upHandler, targetElement]);\n  return keyPressed;\n};\n\nconst useArrowStyles = () => {\n  const theme = Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* useTheme */ \"t\"])();\n  const size = 16;\n  return {\n    '& [data-popper-arrow]': {\n      position: 'absolute',\n      overflow: 'hidden',\n      pointerEvents: 'none',\n      height: size * 2,\n      width: size * 2,\n      '&::after': {\n        content: '\"\"',\n        position: 'absolute',\n        background: theme.colors.background,\n        width: size,\n        height: size,\n        transform: 'translateX(-50%) translateY(-50%) rotate(45deg)',\n        boxShadow: theme.shadow.s200\n      }\n    },\n    \"&[data-popper-placement^='left'] > [data-popper-arrow]\": {\n      left: '100%',\n      '&::after': {\n        top: '50%',\n        left: '0'\n      }\n    },\n    \"&[data-popper-placement^='right'] > [data-popper-arrow]\": {\n      right: '100%',\n      '&::after': {\n        top: '50%',\n        left: '100%'\n      }\n    },\n    \"&[data-popper-placement^='top'] > [data-popper-arrow]\": {\n      top: '100%',\n      '&::after': {\n        top: 0,\n        bottom: '-50%',\n        left: '50%'\n      }\n    },\n    \"&[data-popper-placement^='bottom'] > [data-popper-arrow]\": {\n      bottom: '100%',\n      right: 'unset',\n      '&::after': {\n        bottom: '-50%',\n        left: '50%'\n      }\n    }\n  };\n};\n\n\n\n\n/***/ }),\n\n/***/ \"r1vM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MoreHorizontalIcon; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"ERkP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _dist_Icon_07874377_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"okno\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"97Jx\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"m3Bd\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"J8OT\");\n\n\n\n\n\n\nconst MoreHorizontalIcon = Object(_dist_Icon_07874377_esm_js__WEBPACK_IMPORTED_MODULE_1__[/* c */ \"a\"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 1\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"circle\", {\n  cx: 19,\n  cy: 12,\n  r: 1\n}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"circle\", {\n  cx: 5,\n  cy: 12,\n  r: 1\n})), 'MoreHorizontalIcon');\n\n\n\n\n/***/ }),\n\n/***/ \"zcq3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SignoutButton; });\n/* harmony import */ var _keystone_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"J8OT\");\n/* harmony import */ var _keystone_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rkyN\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"ERkP\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"Z4DO\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"xiH9\");\n\n\n\n\n\n/* @jsx jsx */\nconst END_SESSION = _apollo_client__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]`\n  mutation EndSession {\n    endSession\n  }\n`;\n\nconst SignoutButton = ({\n  children\n}) => {\n  const [endSession, {\n    loading,\n    data\n  }] = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_4__[/* useMutation */ \"a\"])(END_SESSION);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(() => {\n    if (data !== null && data !== void 0 && data.endSession) {\n      window.location.reload();\n    }\n  }, [data]);\n  return Object(_keystone_ui_core__WEBPACK_IMPORTED_MODULE_0__[/* jsx */ \"n\"])(_keystone_ui_button__WEBPACK_IMPORTED_MODULE_1__[/* Button */ \"a\"], {\n    size: \"small\",\n    isLoading: loading,\n    onClick: () => endSession()\n  }, children || 'Sign out');\n};\n\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/131562/react_project/roti-backend/node_modules/@keystone-next/keystone/dist/CreateItemDrawer-b3e25c7e.esm.js","/Users/131562/react_project/roti-backend/node_modules/@keystone-next/keystone/node_modules/@keystone-ui/icons/icons/ChevronRightIcon/dist/icons.esm.js","/Users/131562/react_project/roti-backend/node_modules/@keystone-next/keystone/dist/GraphQLErrorNotice-f9c76b5f.esm.js","/Users/131562/react_project/roti-backend/node_modules/@keystone-next/keystone/node_modules/@keystone-ui/popover/dist/popover.esm.js","/Users/131562/react_project/roti-backend/node_modules/@keystone-next/keystone/node_modules/@keystone-ui/icons/icons/MoreHorizontalIcon/dist/icons.esm.js","/Users/131562/react_project/roti-backend/node_modules/@keystone-next/keystone/dist/SignoutButton-737242a4.esm.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqE;AAC3B;AACA;AACK;AACF;AACE;AACI;AACD;AAC8B;AACD;;AAE/E;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,GAAG,GAAG,kGAAW;AACjB,eAAe,8FAAO;AACtB,iBAAiB,4EAAS;AAC1B;AACA;AACA;AACA,GAAG,IAAI,0EAAW,CAAC,8DAAG,mBAAmB,8BAA8B;AACvE,cAAc,iCAAiC;AAC/C;AACA,iBAAiB;AACjB;AACA,GAAG;AACH,oDAAoD,sDAAQ;AAC5D;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,wBAAwB,qDAAO;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,gDAAgD,sDAAQ;AACxD;AACA;AACA,WAAW,qEAAG;AACd;AACA;AACA;AACA;AACA;AACA,6BAA6B,gGAAa,CAAC,gGAAa,GAAG,wBAAwB;AACnF;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL,GAAG;AACH,SAAS,qEAAG,CAAC,kEAAM;AACnB,qBAAqB,cAAc;AACnC;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA,iBAAiB,sDAAW;AAC5B;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB;AAC3B;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG,4CAA4C,qEAAG,CAAC,8EAAkB;AACrE;AACA;AACA,GAAG,+CAA+C,qEAAG,CAAC,wEAAW;AACjE;AACA,GAAG,YAAY,qEAAG,CAAC,8EAAkB;AACrC;AACA;AACA,GAAG,GAAG,qEAAG,CAAC,+DAAK;AACf;AACA;AACA,GAAG;AACH;;AAEiC;;;;;;;;;AClIjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+B;AACsC;AAC7B;AACgB;AAC7B;;AAE3B,yBAAyB,4EAAU,eAAe,mDAAmB;AACrE;AACA,CAAC;;AAE2B;;;;;;;;;ACV5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACG;AACrB;AACkD;AAClD;AACK;AACE;AACkC;AACJ;AACN;AACE;AACJ;AACxC;AACgB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA,GAAG,GAAG,0EAAQ;AACd;AACA;AACA,GAAG,GAAG,kGAAW;;AAEjB;AACA,WAAW,qEAAG;AACd;;AAEA,SAAS,qEAAG,CAAC,4DAAE,QAAQ,qEAAG,CAAC,iDAAI;AAC/B;AACA;AACA,GAAG,EAAE,qEAAG;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE,qEAAG;AACR;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,eAAe,KAAK,eAAe;AACvD;AACA;AACA,GAAG,EAAE,qEAAG,eAAe,qEAAG;AAC1B;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE,qEAAG;AACR;AACA;AACA,GAAG,GAAG,qEAAG;AACT;AACA;AACA,GAAG,KAAK,qEAAG;AACX;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,iBAAiB,6DAAS;AAC1B;AACA,SAAS,qEAAG,CAAC,mFAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc,KAAK,eAAe;AACpD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,SAAS,qEAAG;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE,qEAAG;AACR;AACA;AACA;AACA,GAAG,mBAAmB,qEAAG,+BAA+B,qEAAG,CAAC,oEAAO;AACnE;AACA;AACA;AACA,KAAK,KAAK,qEAAG,CAAC,kEAAM,EAAE,0FAAQ;AAC9B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,iBAAiB,qEAAG,CAAC,sGAAkB;AAC5C,GAAG,EAAE,qEAAG,CAAC,+DAAK;AACd;AACA;AACA;AACA,GAAG,EAAE,qEAAG;AACR;AACA;AACA,GAAG,mBAAmB,qEAAG;AACzB;AACA;AACA,GAAG,wBAAwB,qEAAG;AAC9B;AACA;AACA,GAAG,6BAA6B,qEAAG,CAAC,yEAAa;AACjD;;AAEA;AACA;AACA;AACA,GAAG;AACH,cAAc,0GAAwB;;AAEtC;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,SAAS,qEAAG,MAAM,0FAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,oBAAoB,qEAAG,CAAC,kGAAgB;AAC3C;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,GAAG,kGAAW;AACjB;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,SAAS,qEAAG;AACZ;AACA;AACA;AACA;AACA;AACA,GAAG,iDAAiD,qEAAG;AACvD;AACA,GAAG,GAAG,qEAAG;AACT;AACA;AACA;AACA,GAAG,EAAE,qEAAG;AACR;AACA,GAAG;AACH;;AAEA;AACA,aAAa,qEAAG;AAChB;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qEAAG;AAChB;AACA,kBAAkB,UAAU;AAC5B,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;;AAEA;AACA,YAAY,SAAS;AACrB,SAAS,qEAAG,CAAC,8CAAQ,QAAQ,qEAAG,uBAAuB,kBAAkB,EAAE,IAAI,qEAAG,QAAQ,0FAAQ;AAClG;AACA;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA,GAAG;AACH;;AAEA;AACA,YAAY,SAAS;AACrB,SAAS,qEAAG,UAAU,0FAAQ;AAC9B;AACA,mCAAmC,cAAc;AACjD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,SAAS,qEAAG,SAAS,0FAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,SAAS,qEAAG,oBAAoB,qEAAG;AACnC;AACA;AACA,mCAAmC,cAAc;AACjD,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE,qEAAG,eAAe,qEAAG;AAC1B;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,WAAW,qEAAG,gBAAgB,qEAAG,qBAAqB,qEAAG;AAC5D;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA,wBAAwB,4CAAK,eAAe,mEAAM;AAClD;AACA,KAAK;AACL;;AAEA;AACA,wBAAwB,4CAAK,eAAe,+DAAK;AACjD;AACA,KAAK;AACL;;AAEA;;AAEA;AACA,mEAAmE,4CAAK,eAAe,mEAAM;AAC7F;AACA,SAAS;AACT;;AAEA,0BAA0B,4CAAK,eAAe,mEAAM;AACpD;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;AAEuG;;;;;;;;;AC1VvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACgC;AACrB;AAC2B;AAClD;AACL;AACiB;;AAE1D;AACA;AACA;AACA,CAAC,oBAAoB;AACrB;AACA,CAAC;AACD,4CAA4C,sDAAQ;AACpD,8CAA8C,sDAAQ;AACtD,0CAA0C,sDAAQ;AAClD;AACA;AACA;AACA;AACA,GAAG,GAAG,sEAAS,gCAAgC,gGAAa,CAAC,gGAAa,GAAG,oBAAoB;AACjG;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG,GAAG;AACN;;AAEA,EAAE,uDAAS;AACX;AACA;AACA;AACA,GAAG,oBAAoB;;AAEvB;AACA;AACA;AACA;AACA,GAAG,EAAE;;AAEL;AACA;AACA,iBAAiB,yDAAW;AAC5B,6BAA6B;;AAE7B;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,aAAa,qDAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,YAAY,qDAAO;AACnB;AACA,aAAa,gGAAa;AAC1B;AACA,OAAO;AACP,KAAK;AACL,WAAW,qDAAO;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC;AACtC;AACA,CAAC;AACD,4BAA4B,sDAAQ;AACpC,SAAS,gGAAa;AACtB;AACA;AACA,GAAG;AACH;AACA,aAAa,yDAAW;AACxB,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,cAAc,0GAAwB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,SAAS,qEAAG,CAAC,8CAAQ;AACrB;AACA,kBAAkB,gGAAa,CAAC,gGAAa;AAC7C;AACA,KAAK,oBAAoB;AACzB;AACA,KAAK;AACL,GAAG,GAAG,qEAAG,gBAAgB,0FAAQ;AACjC;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA,mCAAmC,wDAAU;AAC7C;AACA;AACA;AACA;AACA,GAAG;AACH,cAAc,0GAAwB;;AAEtC;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG,0EAAQ;AACd,uBAAuB,oDAAM;AAC7B,oBAAoB,oDAAM;AAC1B,EAAE,uDAAS;AACX;AACA,0BAA0B,kEAA+B;AACzD;AACA,GAAG;AACH,EAAE,uDAAS;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH,SAAS,qEAAG,CAAC,gEAAM,QAAQ,qEAAG,QAAQ,0FAAQ;AAC9C;AACA,SAAS,gGAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG,UAAU,qEAAG;AAChB;AACA,GAAG,eAAe,qEAAG,CAAC,8CAAQ,QAAQ,qEAAG,QAAQ,0FAAQ;AACzD;AACA;AACA;AACA,GAAG;AACH,CAAC,EAAE;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD,EAAE,uDAAS;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sCAAsC,sDAAQ,QAAQ;;AAEtD,EAAE,uDAAS;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;;AAE7C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gBAAgB,0EAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEoE;;;;;;;;;ACjTpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+B;AACsC;AAC7B;AACgB;AAC7B;;AAE3B,2BAA2B,4EAAU,eAAe,mDAAmB,CAAC,8CAAc,qBAAqB,mDAAmB;AAC9H;AACA;AACA;AACA,CAAC,gBAAgB,mDAAmB;AACpC;AACA;AACA;AACA,CAAC,gBAAgB,mDAAmB;AACpC;AACA;AACA;AACA,CAAC;;AAE6B;;;;;;;;;ACpB9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACK;AACX;AACgB;;AAElD;AACA,oBAAoB,8DAAG;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG,IAAI,0EAAW;AAClB,EAAE,uDAAS;AACX;AACA;AACA;AACA,GAAG;AACH,SAAS,qEAAG,CAAC,kEAAM;AACnB;AACA;AACA;AACA,GAAG;AACH;;AAE8B","file":"x","sourcesContent":["import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport { useState, useMemo } from 'react';\nimport isDeepEqual from 'fast-deep-equal';\nimport { jsx, Stack } from '@keystone-ui/core';\nimport { Drawer } from '@keystone-ui/modals';\nimport { useToasts } from '@keystone-ui/toast';\nimport { LoadingDots } from '@keystone-ui/loading';\nimport { useMutation, gql } from '@apollo/client';\nimport { useKeystone, useList } from '../admin-ui/context/dist/keystone.esm.js';\nimport { G as GraphQLErrorNotice } from './GraphQLErrorNotice-f9c76b5f.esm.js';\n\nfunction CreateItemDrawer({\n  listKey,\n  onClose,\n  onCreate\n}) {\n  const {\n    createViewFieldModes\n  } = useKeystone();\n  const list = useList(listKey);\n  const toasts = useToasts();\n  const [createItem, {\n    loading,\n    error\n  }] = useMutation(gql`mutation($data: ${list.gqlNames.createInputName}!) {\n      item: ${list.gqlNames.createMutationName}(data: $data) {\n        id\n        label: ${list.labelField}\n    }\n  }`);\n  const [valuesByFieldPath, setValuesByFieldPath] = useState(() => {\n    const value = {};\n    Object.keys(list.fields).forEach(fieldPath => {\n      value[fieldPath] = list.fields[fieldPath].controller.defaultValue;\n    });\n    return value;\n  });\n  const invalidFields = useMemo(() => {\n    const invalidFields = new Set();\n    Object.keys(valuesByFieldPath).forEach(fieldPath => {\n      const val = valuesByFieldPath[fieldPath];\n      const validateFn = list.fields[fieldPath].controller.validate;\n\n      if (validateFn) {\n        const result = validateFn(val);\n\n        if (result === false) {\n          invalidFields.add(fieldPath);\n        }\n      }\n    });\n    return invalidFields;\n  }, [list, valuesByFieldPath]);\n  const [forceValidation, setForceValidation] = useState(false);\n  const fields = Object.keys(list.fields).filter(fieldPath => createViewFieldModes.state === 'loaded' ? createViewFieldModes.lists[listKey][fieldPath] !== 'hidden' : false).map((fieldPath, index) => {\n    const field = list.fields[fieldPath];\n    return jsx(field.views.Field, {\n      key: fieldPath,\n      field: field.controller,\n      value: valuesByFieldPath[fieldPath],\n      forceValidation: forceValidation && invalidFields.has(fieldPath),\n      onChange: fieldValue => {\n        setValuesByFieldPath(_objectSpread(_objectSpread({}, valuesByFieldPath), {}, {\n          [fieldPath]: fieldValue\n        }));\n      },\n      autoFocus: index === 0\n    });\n  });\n  return jsx(Drawer, {\n    title: `Create ${list.singular}`,\n    width: \"wide\",\n    actions: {\n      confirm: {\n        label: `Create ${list.singular}`,\n        loading,\n        action: () => {\n          const newForceValidation = invalidFields.size !== 0;\n          setForceValidation(newForceValidation);\n          if (newForceValidation) return;\n          const data = {};\n          Object.keys(list.fields).forEach(fieldPath => {\n            const {\n              controller\n            } = list.fields[fieldPath];\n            const serialized = controller.serialize(valuesByFieldPath[fieldPath]);\n\n            if (!isDeepEqual(serialized, controller.serialize(controller.defaultValue))) {\n              Object.assign(data, serialized);\n            }\n          });\n          createItem({\n            variables: {\n              data\n            }\n          }).then(({\n            data\n          }) => {\n            const label = data.item.label || data.item.id;\n            onCreate({\n              id: data.item.id,\n              label\n            });\n            toasts.addToast({\n              title: label,\n              message: 'Created Successfully',\n              tone: 'positive'\n            });\n          }).catch(() => {});\n        }\n      },\n      cancel: {\n        label: 'Cancel',\n        action: onClose\n      }\n    }\n  }, createViewFieldModes.state === 'error' && jsx(GraphQLErrorNotice, {\n    networkError: createViewFieldModes.error instanceof Error ? createViewFieldModes.error : undefined,\n    errors: createViewFieldModes.error instanceof Error ? undefined : createViewFieldModes.error\n  }), createViewFieldModes.state === 'loading' && jsx(LoadingDots, {\n    label: \"Loading create form\"\n  }), error && jsx(GraphQLErrorNotice, {\n    networkError: error === null || error === void 0 ? void 0 : error.networkError,\n    errors: error === null || error === void 0 ? void 0 : error.graphQLErrors\n  }), jsx(Stack, {\n    gap: \"xlarge\",\n    paddingY: \"xlarge\"\n  }, fields, fields.length === 0 && 'There are no fields that you can read or edit'));\n}\n\nexport { CreateItemDrawer as C };\n","import * as React from 'react';\nimport { c as createIcon } from '../../../dist/Icon-07874377.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@keystone-ui/core';\n\nconst ChevronRightIcon = createIcon( /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"9 18 15 12 9 6\"\n}), 'ChevronRightIcon');\n\nexport { ChevronRightIcon };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useTheme, jsx, H3, Stack } from '@keystone-ui/core';\nimport React, { Fragment } from 'react';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useRouter } from 'next/router';\nimport { Button } from '@keystone-ui/button';\nimport { Popover } from '@keystone-ui/popover';\nimport { MoreHorizontalIcon } from '@keystone-ui/icons/icons/MoreHorizontalIcon';\nimport { ChevronRightIcon } from '@keystone-ui/icons/icons/ChevronRightIcon';\nimport { useKeystone } from '../admin-ui/context/dist/keystone.esm.js';\nimport { Link as Link$1 } from '../admin-ui/router/dist/keystone.esm.js';\nimport { S as SignoutButton } from './SignoutButton-737242a4.esm.js';\nimport Link from 'next/link';\nimport { Notice } from '@keystone-ui/notice';\n\n/* @jsx jsx */\nconst Logo = () => {\n  var _adminConfig$componen;\n\n  const {\n    spacing\n  } = useTheme();\n  const {\n    adminConfig\n  } = useKeystone();\n\n  if ((_adminConfig$componen = adminConfig.components) !== null && _adminConfig$componen !== void 0 && _adminConfig$componen.Logo) {\n    return jsx(adminConfig.components.Logo, null);\n  }\n\n  return jsx(H3, null, jsx(Link, {\n    href: \"/\",\n    passHref: true\n  }, jsx(\"a\", {\n    css: {\n      // TODO: we dont' have colors in our design-system for this.\n      backgroundImage: `linear-gradient(to right, #0ea5e9, #6366f1)`,\n      backgroundClip: 'text',\n      lineHeight: '1.75rem',\n      color: 'transparent',\n      verticalAlign: 'middle',\n      transition: 'color 0.3s ease',\n      textDecoration: 'none'\n    }\n  }, jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 220 220\",\n    css: {\n      display: 'inline-block',\n      width: '2rem',\n      height: '2rem',\n      margin: `0  ${spacing.medium}px ${spacing.xsmall}px 0`,\n      verticalAlign: 'middle'\n    }\n  }, jsx(\"defs\", null, jsx(\"linearGradient\", {\n    id: \"logo-a\",\n    x1: \"0%\",\n    x2: \"50%\",\n    y1: \"0%\",\n    y2: \"71.9%\"\n  }, jsx(\"stop\", {\n    offset: \"0%\",\n    stopColor: \"#5AE8FA\"\n  }), jsx(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#2684FF\"\n  }))), jsx(\"path\", {\n    fill: \"url(#logo-a)\",\n    fillRule: \"evenodd\",\n    d: \"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z\",\n    transform: \"translate(-238.9 -47)\"\n  })), \"Keystone Next\")));\n};\n\nconst NavItem = ({\n  href,\n  children\n}) => {\n  const {\n    colors,\n    palette,\n    spacing,\n    radii,\n    typography\n  } = useTheme();\n  const router = useRouter();\n  const isSelected = router.pathname === href || router.pathname.split('/')[1] === href.split('/')[1];\n  return jsx(Link$1, {\n    \"aria-current\": isSelected ? 'location' : false,\n    href: href,\n    css: {\n      background: 'transparent',\n      borderBottomRightRadius: radii.xsmall,\n      borderTopRightRadius: radii.xsmall,\n      color: palette.neutral700,\n      display: 'block',\n      fontWeight: typography.fontWeight.medium,\n      marginBottom: spacing.xsmall,\n      marginRight: spacing.xlarge,\n      padding: `${spacing.small}px ${spacing.xlarge}px`,\n      position: 'relative',\n      textDecoration: 'none',\n      ':hover': {\n        background: colors.backgroundHover,\n        color: colors.linkHoverColor\n      },\n      '&[aria-current=location]': {\n        background: palette.neutral200,\n        color: palette.neutral900\n      }\n    }\n  }, children);\n};\n\nconst AuthenticatedItem = ({\n  item\n}) => {\n  const {\n    spacing,\n    typography\n  } = useTheme();\n  return jsx(\"div\", {\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      margin: spacing.xlarge,\n      marginBottom: 0\n    }\n  }, jsx(\"div\", {\n    css: {\n      fontSize: typography.fontSize.small\n    }\n  }, \"Signed in as \", jsx(\"strong\", null, item.label)), jsx(Popover, {\n    placement: \"bottom\",\n    triggerRenderer: ({\n      triggerProps\n    }) => jsx(Button, _extends({\n      size: \"small\",\n      style: {\n        padding: 0,\n        width: 36\n      },\n      \"aria-label\": \"Links and signout\"\n    }, triggerProps), jsx(MoreHorizontalIcon, null))\n  }, jsx(Stack, {\n    gap: \"medium\",\n    padding: \"large\",\n    dividers: \"between\"\n  }, jsx(PopoverLink, {\n    target: \"_blank\",\n    href: \"/api/graphql\"\n  }, \"API Explorer\"), jsx(PopoverLink, {\n    target: \"_blank\",\n    href: \"https://github.com/keystonejs/keystone\"\n  }, \"GitHub Repository\"), jsx(PopoverLink, {\n    target: \"_blank\",\n    href: \"https://next.keystonejs.com\"\n  }, \"Keystone Documentation\"), jsx(SignoutButton, null))));\n};\n\nconst PopoverLink = _ref => {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  const {\n    typography\n  } = useTheme();\n  return jsx(\"a\", _extends({\n    css: {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: typography.fontSize.small,\n      textDecoration: 'none'\n    }\n  }, props), children, jsx(ChevronRightIcon, {\n    size: \"small\"\n  }));\n};\n\nconst Navigation = () => {\n  const {\n    adminMeta: {\n      lists\n    },\n    authenticatedItem,\n    visibleLists\n  } = useKeystone();\n  const {\n    spacing\n  } = useTheme();\n  return jsx(\"div\", {\n    css: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    }\n  }, authenticatedItem.state === 'authenticated' && jsx(AuthenticatedItem, {\n    item: authenticatedItem\n  }), jsx(\"nav\", {\n    css: {\n      marginTop: spacing.xlarge\n    }\n  }, jsx(NavItem, {\n    href: \"/\"\n  }, \"Dashboard\"), (() => {\n    if (visibleLists.state === 'loading') return null;\n\n    if (visibleLists.state === 'error') {\n      return jsx(\"span\", {\n        css: {\n          color: 'red'\n        }\n      }, visibleLists.error instanceof Error ? visibleLists.error.message : visibleLists.error[0].message);\n    }\n\n    return Object.keys(lists).map(key => {\n      if (!visibleLists.lists.has(key)) {\n        return null;\n      }\n\n      const list = lists[key];\n      return jsx(NavItem, {\n        key: key,\n        href: `/${list.path}`\n      }, lists[key].label);\n    });\n  })()));\n};\n\nconst HEADER_HEIGHT = 80;\n\nconst PageWrapper = props => {\n  // const { colors } = useTheme();\n  return jsx(Fragment, null, jsx(\"style\", null, `body { overflow: hidden; }`), jsx(\"div\", _extends({\n    css: {\n      // background: colors.background,\n      display: 'grid',\n      gridTemplateColumns: `minmax(300px, 1fr) 4fr`,\n      gridTemplateRows: `${HEADER_HEIGHT}px auto`,\n      height: '100vh'\n    }\n  }, props)));\n};\n\nconst Sidebar = props => {\n  // const { colors } = useTheme();\n  return jsx(\"aside\", _extends({\n    css: {\n      // borderRight: `1px solid ${colors.border}`,\n      minWidth: 0,\n      // resolves collapsing issues in children\n      overflowY: 'auto',\n      WebkitOverflowScrolling: 'touch'\n    }\n  }, props));\n};\n\nconst Content = props => {\n  const {\n    colors,\n    spacing\n  } = useTheme();\n  return jsx(\"main\", _extends({\n    css: {\n      backgroundColor: colors.background,\n      boxSizing: 'border-box',\n      minWidth: 0,\n      // resolves collapsing issues in children\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge,\n      overflowY: 'auto',\n      WebkitOverflowScrolling: 'touch'\n    }\n  }, props));\n};\n\nconst PageContainer = ({\n  children,\n  header\n}) => {\n  const {\n    colors,\n    spacing\n  } = useTheme();\n  return jsx(PageWrapper, null, jsx(\"div\", {\n    css: {\n      alignItems: 'center',\n      // borderRight: `1px solid ${colors.border}`,\n      borderBottom: `1px solid ${colors.border}`,\n      display: 'flex',\n      justifyContent: 'space-between',\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge\n    }\n  }, jsx(Logo, null)), jsx(\"header\", {\n    css: {\n      alignItems: 'center',\n      backgroundColor: colors.background,\n      borderBottom: `1px solid ${colors.border}`,\n      display: 'flex',\n      justifyContent: 'space-between',\n      minWidth: 0,\n      // fix flex text truncation\n      paddingLeft: spacing.xlarge,\n      paddingRight: spacing.xlarge\n    }\n  }, header), jsx(Sidebar, null, jsx(Navigation, null)), jsx(Content, null, children));\n};\n\nfunction GraphQLErrorNotice({\n  errors,\n  networkError\n}) {\n  if (networkError) {\n    return /*#__PURE__*/React.createElement(Notice, {\n      tone: \"negative\"\n    }, networkError.message);\n  }\n\n  if (errors !== null && errors !== void 0 && errors.length) {\n    return /*#__PURE__*/React.createElement(Stack, {\n      gap: \"small\"\n    }, errors.map(err => {\n      var _errButAny$data, _errButAny$data$messa;\n\n      const errButAny = err;\n\n      if (err.name === 'ValidationFailureError' && (_errButAny$data = errButAny.data) !== null && _errButAny$data !== void 0 && (_errButAny$data$messa = _errButAny$data.messages) !== null && _errButAny$data$messa !== void 0 && _errButAny$data$messa.length) {\n        return errButAny.data.messages.map(message => /*#__PURE__*/React.createElement(Notice, {\n          tone: \"negative\"\n        }, message));\n      }\n\n      return /*#__PURE__*/React.createElement(Notice, {\n        tone: \"negative\"\n      }, err.message);\n    }));\n  }\n\n  return null;\n}\n\nexport { GraphQLErrorNotice as G, HEADER_HEIGHT as H, Logo as L, Navigation as N, PageContainer as P };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport { useState, useEffect, useCallback, useMemo, Fragment, forwardRef, useRef } from 'react';\nimport * as focusTrapModule from 'focus-trap';\nimport { usePopper } from 'react-popper';\nimport { jsx, useTheme, Portal } from '@keystone-ui/core';\n\nconst useControlledPopover = ({\n  isOpen,\n  onClose\n}, popperOptions = {}, popoverOptions = {\n  handleClose: 'both'\n}) => {\n  const [anchorElement, setAnchorElement] = useState(null);\n  const [popoverElement, setPopoverElement] = useState();\n  const [arrowElement, setArrowElement] = useState();\n  const {\n    styles,\n    attributes,\n    update\n  } = usePopper(anchorElement, popoverElement, _objectSpread(_objectSpread({}, popperOptions), {}, {\n    modifiers: [...(popperOptions.modifiers || []), {\n      name: 'arrow',\n      options: {\n        element: arrowElement\n      }\n    }, {\n      name: 'eventListeners',\n      options: {\n        scroll: isOpen,\n        resize: isOpen\n      }\n    }]\n  })); // update popper when it opens to get the latest placement\n  // useful for prerendered popovers in modals etc.\n\n  useEffect(() => {\n    if (update && isOpen) {\n      update();\n    }\n  }, [isOpen, update]); // close on click outside\n\n  useClickOutside({\n    handler: () => onClose(),\n    elements: [anchorElement, popoverElement],\n    listenWhen: ['both', 'mouse'].includes(popoverOptions.handleClose) && isOpen\n  }); // close on esc press\n\n  useKeyPress({\n    targetKey: 'Escape',\n    downHandler: useCallback(event => {\n      event.preventDefault(); // Avoid potential close of modal\n\n      onClose();\n    }, [onClose]),\n    listenWhen: ['both', 'keyboard'].includes(popoverOptions.handleClose) && isOpen\n  });\n  return {\n    trigger: useMemo(() => ({\n      ref: setAnchorElement,\n      props: {\n        'aria-haspopup': true,\n        'aria-expanded': isOpen\n      }\n    }), [isOpen]),\n    dialog: useMemo(() => ({\n      ref: setPopoverElement,\n      props: _objectSpread({\n        style: styles.popper\n      }, attributes.popper)\n    }), [styles.popper, attributes.popper]),\n    arrow: useMemo(() => ({\n      ref: setArrowElement,\n      props: {\n        style: styles.arrow\n      }\n    }), [styles.arrow])\n  };\n};\nconst usePopover = (popperOptions = {}, popoverOptions = {\n  handleClose: 'both'\n}) => {\n  const [isOpen, setOpen] = useState(false);\n  return _objectSpread({\n    isOpen,\n    setOpen\n  }, useControlledPopover({\n    isOpen,\n    onClose: useCallback(() => setOpen(false), [])\n  }, popperOptions, popoverOptions));\n}; // Component\n// ------------------------------\n\nconst Popover = _ref => {\n  let {\n    placement = 'bottom',\n    triggerRenderer\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"placement\", \"triggerRenderer\"]);\n\n  const {\n    isOpen,\n    setOpen,\n    trigger,\n    dialog,\n    arrow\n  } = usePopover({\n    placement,\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [0, 8]\n      }\n    }]\n  });\n  return jsx(Fragment, null, triggerRenderer({\n    isOpen,\n    triggerProps: _objectSpread(_objectSpread({\n      ref: trigger.ref\n    }, trigger.props), {}, {\n      onClick: () => setOpen(true)\n    })\n  }), jsx(PopoverDialog, _extends({\n    isVisible: isOpen,\n    arrow: arrow,\n    ref: dialog.ref\n  }, dialog.props, props)));\n}; // Dialog\n// ------------------------------\n\nconst PopoverDialog = /*#__PURE__*/forwardRef((_ref2, consumerRef) => {\n  let {\n    isVisible,\n    children,\n    arrow\n  } = _ref2,\n      props = _objectWithoutProperties(_ref2, [\"isVisible\", \"children\", \"arrow\"]);\n\n  const {\n    elevation,\n    radii,\n    shadow,\n    colors\n  } = useTheme();\n  const focusTrapRef = useRef(null);\n  const focusTrap = useRef(null);\n  useEffect(() => {\n    if (focusTrapRef !== null && focusTrapRef !== void 0 && focusTrapRef.current) {\n      focusTrap.current = focusTrapModule.createFocusTrap(focusTrapRef.current);\n    }\n  }, [focusTrapRef]);\n  useEffect(() => {\n    if (focusTrap !== null && focusTrap !== void 0 && focusTrap.current) {\n      if (isVisible) {\n        focusTrap.current.activate();\n      } else {\n        focusTrap.current.deactivate();\n      }\n    }\n  }, [isVisible, focusTrap]);\n  return jsx(Portal, null, jsx(\"div\", _extends({\n    ref: consumerRef,\n    css: _objectSpread({\n      background: colors.background,\n      borderRadius: radii.medium,\n      boxShadow: shadow.s300,\n      opacity: isVisible ? 1 : 0,\n      pointerEvents: isVisible ? undefined : 'none',\n      zIndex: elevation.e500\n    }, useArrowStyles())\n  }, props), jsx(\"div\", {\n    ref: focusTrapRef\n  }, isVisible && jsx(Fragment, null, jsx(\"div\", _extends({\n    \"data-popper-arrow\": true,\n    ref: arrow.ref,\n    className: \"tooltipArrow\"\n  }, arrow.props)), children))));\n}); // TODO: maybe we should add an invisible blanket and have a regular react event listener on that instead of this?\n// NOTE: mouse event handler defined here rather than imported from react becase\n// the event listener will return a native event, not a synthetic event\n\nconst useClickOutside = ({\n  handler,\n  elements,\n  listenWhen\n}) => {\n  useEffect(() => {\n    if (listenWhen) {\n      let handleMouseDown = event => {\n        // bail on mouse down \"inside\" any of the provided elements\n        if (elements.some(el => el && el.contains(event.target))) {\n          return;\n        }\n\n        handler(event);\n      };\n\n      document.addEventListener('mousedown', handleMouseDown);\n      return () => {\n        document.removeEventListener('mousedown', handleMouseDown);\n      };\n    }\n  }, [handler, elements, listenWhen]);\n};\n\nconst useKeyPress = ({\n  targetKey,\n  targetElement,\n  downHandler,\n  upHandler,\n  listenWhen\n}) => {\n  // Keep track of whether the target key is pressed\n  const [keyPressed, setKeyPressed] = useState(false); // add event listeners\n\n  useEffect(() => {\n    let target = targetElement || document.body;\n\n    let onDown = event => {\n      if (event.key === targetKey) {\n        setKeyPressed(true);\n\n        if (typeof downHandler === 'function') {\n          downHandler(event);\n        }\n      }\n    };\n\n    let onUp = event => {\n      if (event.key === targetKey) {\n        setKeyPressed(false);\n\n        if (typeof upHandler === 'function') {\n          upHandler(event);\n        }\n      }\n    };\n\n    if (listenWhen) {\n      target.addEventListener('keydown', onDown);\n      target.addEventListener('keyup', onUp); // Remove event listeners on cleanup\n\n      return () => {\n        target.removeEventListener('keydown', onDown);\n        target.removeEventListener('keyup', onUp);\n      };\n    }\n  }, [listenWhen, targetKey, downHandler, upHandler, targetElement]);\n  return keyPressed;\n};\n\nconst useArrowStyles = () => {\n  const theme = useTheme();\n  const size = 16;\n  return {\n    '& [data-popper-arrow]': {\n      position: 'absolute',\n      overflow: 'hidden',\n      pointerEvents: 'none',\n      height: size * 2,\n      width: size * 2,\n      '&::after': {\n        content: '\"\"',\n        position: 'absolute',\n        background: theme.colors.background,\n        width: size,\n        height: size,\n        transform: 'translateX(-50%) translateY(-50%) rotate(45deg)',\n        boxShadow: theme.shadow.s200\n      }\n    },\n    \"&[data-popper-placement^='left'] > [data-popper-arrow]\": {\n      left: '100%',\n      '&::after': {\n        top: '50%',\n        left: '0'\n      }\n    },\n    \"&[data-popper-placement^='right'] > [data-popper-arrow]\": {\n      right: '100%',\n      '&::after': {\n        top: '50%',\n        left: '100%'\n      }\n    },\n    \"&[data-popper-placement^='top'] > [data-popper-arrow]\": {\n      top: '100%',\n      '&::after': {\n        top: 0,\n        bottom: '-50%',\n        left: '50%'\n      }\n    },\n    \"&[data-popper-placement^='bottom'] > [data-popper-arrow]\": {\n      bottom: '100%',\n      right: 'unset',\n      '&::after': {\n        bottom: '-50%',\n        left: '50%'\n      }\n    }\n  };\n};\n\nexport { Popover, PopoverDialog, useControlledPopover, usePopover };\n","import * as React from 'react';\nimport { c as createIcon } from '../../../dist/Icon-07874377.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@keystone-ui/core';\n\nconst MoreHorizontalIcon = createIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 19,\n  cy: 12,\n  r: 1\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 12,\n  r: 1\n})), 'MoreHorizontalIcon');\n\nexport { MoreHorizontalIcon };\n","import { jsx } from '@keystone-ui/core';\nimport { Button } from '@keystone-ui/button';\nimport { useEffect } from 'react';\nimport { gql, useMutation } from '@apollo/client';\n\n/* @jsx jsx */\nconst END_SESSION = gql`\n  mutation EndSession {\n    endSession\n  }\n`;\n\nconst SignoutButton = ({\n  children\n}) => {\n  const [endSession, {\n    loading,\n    data\n  }] = useMutation(END_SESSION);\n  useEffect(() => {\n    if (data !== null && data !== void 0 && data.endSession) {\n      window.location.reload();\n    }\n  }, [data]);\n  return jsx(Button, {\n    size: \"small\",\n    isLoading: loading,\n    onClick: () => endSession()\n  }, children || 'Sign out');\n};\n\nexport { SignoutButton as S };\n"]}}