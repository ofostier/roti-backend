{"ast":null,"code":"import { list } from '@keystone-next/keystone/schema';\nimport { text, password, relationship, select } from '@keystone-next/fields';\nimport { permissions, rules } from '../access';\nexport const User = list({\n  access: {\n    create: () => true,\n    read: rules.canManageUsers,\n    update: rules.canManageUsers,\n    // only people with the permission can delete themselves!\n    // You can't delete yourself\n    delete: permissions.canManageUsers\n  },\n  ui: {\n    // hide the backend UI from regular users\n    hideCreate: args => !permissions.canManageUsers(args),\n    hideDelete: args => !permissions.canManageUsers(args)\n  },\n  fields: {\n    name: text({\n      isRequired: true\n    }),\n    firstname: text({\n      isRequired: false\n    }),\n    email: text({\n      isRequired: true,\n      isUnique: true\n    }),\n    password: password(),\n    phone: text({\n      isRequired: false\n    }),\n    rotis: relationship({\n      ref: 'Roti.user',\n      many: true\n    }),\n    // cart: relationship({\n    //   ref: 'CartItem.user',\n    //   many: true,\n    //   ui: {\n    //     createView: { fieldMode: 'hidden' },\n    //     itemView: { fieldMode: 'read' },\n    //   },\n    // }),\n    // orders: relationship({ ref: 'Order.user', many: true }),\n    language: select({\n      options: [{\n        label: 'Fran√ßais',\n        value: 'fr'\n      }, {\n        label: 'English',\n        value: 'en-gb'\n      }],\n      defaultValue: 'en-gb',\n      ui: {\n        displayMode: 'segmented-control',\n        createView: {\n          fieldMode: 'hidden'\n        }\n      }\n    }),\n    role: relationship({\n      ref: 'Role.assignedTo',\n      access: {\n        create: permissions.canManageUsers,\n        update: permissions.canManageUsers\n      }\n    }) // products: relationship({\n    //   ref: 'Product.user',\n    //   many: true,\n    // }),\n\n  }\n});","map":null,"metadata":{},"sourceType":"module"}