{"ast":null,"code":"import { createTransport, getTestMessageUrl } from 'nodemailer';\nconst transport = createTransport({\n  // @ts-ignore\n  host: process.env.MAIL_HOST,\n  port: process.env.MAIL_PORT,\n  auth: {\n    user: process.env.MAIL_USER,\n    pass: process.env.MAIL_PASS\n  }\n});\n\nfunction makeANiceEmail(text) {\n  return `\n    <div className=\"email\" style=\"\n      border: 1px solid black;\n      padding: 20px;\n      font-family: sans-serif;\n      line-height: 2;\n      font-size: 20px;\n    \">\n      <h2>Hello There!</h2>\n      <p>${text}</p>\n\n      <p>ðŸ˜˜, Wes Bos</p>\n    </div>\n  `;\n}\n\nexport async function sendPasswordResetEmail(resetToken, to) {\n  var _process$env$MAIL_USE;\n\n  // email the user a token\n  const info = await transport.sendMail({\n    to,\n    from: 'wes@wesbos.com',\n    subject: 'Your password reset token!',\n    html: makeANiceEmail(`Your Password Reset Token is here!\n      <a href=\"${process.env.FRONTEND_URL}/reset?token=${resetToken}\">Click Here to reset</a>\n    `)\n  });\n\n  if ((_process$env$MAIL_USE = process.env.MAIL_USER) !== null && _process$env$MAIL_USE !== void 0 && _process$env$MAIL_USE.includes('ethereal.email')) {\n    // @ts-ignore\n    console.log(`ï¿½ Message Sent!  Preview it at ${getTestMessageUrl(info)}`);\n  }\n}","map":null,"metadata":{},"sourceType":"module"}